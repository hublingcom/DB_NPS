<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NPS Mirror â€” Intelligence Platform v2</title>
<link rel="stylesheet" href="nps_style.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HEADER â•â• -->
<header id="app-header">
  <div class="logo-wrap">
    <div class="logo-icon">NPS</div>
    <div>
      <div class="logo-name">Mirror <span>Intelligence</span></div>
      <div class="logo-tag">êµ­ë¯¼ì—°ê¸ˆ í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„ ì‹œìŠ¤í…œ v2.0</div>
    </div>
  </div>
  <div class="live-dot">LIVE</div>

  <nav id="main-nav">
    <button class="nav-item active" onclick="goto('p-dash')"><span class="nav-icon">ğŸ“Š</span>ëŒ€ì‹œë³´ë“œ</button>
    <button class="nav-item" onclick="goto('p-domestic')"><span class="nav-icon">ğŸ‡°ğŸ‡·</span>êµ­ë‚´ì£¼ì‹</button>
    <button class="nav-item" onclick="goto('p-foreign')"><span class="nav-icon">ğŸ‡ºğŸ‡¸</span>ë¯¸êµ­ì£¼ì‹</button>
    <button class="nav-item" onclick="goto('p-date')"><span class="nav-icon">ğŸ“…</span>ë‚ ì§œ ì˜ˆì¸¡</button>
    <button class="nav-item" onclick="goto('p-sim')"><span class="nav-icon">ğŸ’°</span>ì‹œë®¬ë ˆì´í„°</button>
    <button class="nav-item" onclick="goto('p-model')"><span class="nav-icon">ğŸ¯</span>ëª¨ë¸ ì„±ëŠ¥</button>
    <button class="nav-item" onclick="goto('p-accuracy')"><span class="nav-icon">ğŸ”¬</span>ML ì •í™•ë„</button>
  </nav>
</header>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MOBILE NAV â•â• -->
<div class="mobile-nav-bar">
  <button class="mobile-nav-item active" onclick="goto('p-dash')"><span class="mn-icon">ğŸ“Š</span>ëŒ€ì‹œë³´ë“œ</button>
  <button class="mobile-nav-item" onclick="goto('p-domestic')"><span class="mn-icon">ğŸ‡°ğŸ‡·</span>êµ­ë‚´</button>
  <button class="mobile-nav-item" onclick="goto('p-foreign')"><span class="mn-icon">ğŸ‡ºğŸ‡¸</span>ë¯¸êµ­</button>
  <button class="mobile-nav-item" onclick="goto('p-date')"><span class="mn-icon">ğŸ“…</span>ë‚ ì§œ</button>
  <button class="mobile-nav-item" onclick="goto('p-sim')"><span class="mn-icon">ğŸ’°</span>ì‹œë®¬</button>
  <button class="mobile-nav-item" onclick="goto('p-model')"><span class="mn-icon">ğŸ¯</span>ì„±ëŠ¥</button>
  <button class="mobile-nav-item" onclick="goto('p-accuracy')"><span class="mn-icon">ğŸ”¬</span>ML</button>
</div>

<main id="app-main">

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE: DASH â•â• -->
<section class="page active" id="p-dash">
  <div class="page-hero">
    <h1>NPS <em>í¬íŠ¸í´ë¦¬ì˜¤</em> ë¯¸ëŸ¬ë§</h1>
    <p>êµ­ë¯¼ì—°ê¸ˆ ê³µì‹œ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¥ê¸°(Y) + ë‹¨ê¸°(Z) ì‹ í˜¸ë¥¼ ê²°í•©, ìƒìœ„ ì¢…ëª©ì„ ì„ ë³„í•©ë‹ˆë‹¤.</p>
  </div>

  <div class="info-banner mb24">
    <span class="icon">â„¹ï¸</span>
    <div><strong>ë°ì´í„° êµ¬ì¡°:</strong> ì¥ê¸°(Y) = NPS ì—°ê°„ ê³µì‹œ í¸ì… ë¦¬ìŠ¤íŠ¸ (Final Universe) Â· ë‹¨ê¸°(Z) = DART ë¶„ê¸° ê³µì‹œ (dart_score) Â· Z = ë„¤ì´ë²„ ë‰´ìŠ¤ ê°ì„± Â· ìµœì¢… ìŠ¤ì½”ì–´ = 0.99Ã—Y + 0.01Ã—Z Â· êµ­ë‚´/í•´ì™¸ ë³„ë„ ëª¨ë¸ ìš´ìš©</div>
  </div>

  <div class="g4 stagger mb16" id="dash-kpi"></div>

  <div class="g2 mb16">
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ì—°ë„ë³„ í¬íŠ¸í´ë¦¬ì˜¤ vs KOSPI</span></div>
      <div class="chart-box chart-box-h260"><canvas id="c-dash-perf"></canvas></div>
    </div>
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">2024ë…„ Top 10 ìˆ˜ìµë¥ </span></div>
      <div class="chart-box chart-box-h260"><canvas id="c-dash-top10"></canvas></div>
    </div>
  </div>

  <div class="g2">
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ì—°ë„ë³„ Top 5 êµ­ë‚´ì£¼ì‹</span></div>
      <div id="dash-top5-dom"></div>
    </div>
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ì—°ë„ë³„ Top 5 ë¯¸êµ­ì£¼ì‹</span></div>
      <div id="dash-top5-fgn"></div>
    </div>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE: DOMESTIC â•â• -->
<section class="page" id="p-domestic">
  <div class="page-hero">
    <h1><em>êµ­ë‚´ì£¼ì‹</em> ë¶„ì„</h1>
    <p>ì—°ë„ë³„ êµ­ë‚´ ìƒìœ„ ì¢…ëª© ìŠ¤ì½”ì–´, ìˆ˜ìµë¥ , NPS ë³´ìœ  ë¹„ì¤‘ì„ í™•ì¸í•©ë‹ˆë‹¤.</p>
  </div>

  <div class="ctrl-row mb24">
    <div class="ctrl-group">
      <label>ê¸°ì¤€ ì—°ë„</label>
      <select id="dom-year" onchange="renderDomestic()">
        <option value="2021">2021ë…„</option>
        <option value="2022">2022ë…„</option>
        <option value="2023">2023ë…„</option>
        <option value="2024" selected>2024ë…„</option>
      </select>
    </div>
    <div class="ctrl-group" style="max-width:200px">
      <label>ìƒìœ„ Nê°œ: <span class="ctrl-val-badge" id="dom-n-val">20</span></label>
      <input type="range" id="dom-n" min="5" max="50" value="20" oninput="document.getElementById('dom-n-val').textContent=this.value;renderDomestic()">
    </div>
    <div class="ctrl-group">
      <label>ì •ë ¬ ê¸°ì¤€</label>
      <select id="dom-sort" onchange="renderDomestic()">
        <option value="final_score">ìµœì¢… ìŠ¤ì½”ì–´</option>
        <option value="Y_score">Y-ìŠ¤ì½”ì–´</option>
        <option value="Z_score_norm">Z-ìŠ¤ì½”ì–´</option>
        <option value="return">ì—°ê°„ ìˆ˜ìµë¥ </option>
        <option value="weight">NPS ë¹„ì¤‘</option>
      </select>
    </div>
  </div>

  <div class="g2 mb16">
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ìŠ¤ì½”ì–´ ë¶„í¬</span></div>
      <div class="chart-box chart-box-h260"><canvas id="c-dom-dist"></canvas></div>
    </div>
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">Y vs Z ìŠ¤ì½”ì–´ ì‚°ì ë„</span></div>
      <div class="chart-box chart-box-h260"><canvas id="c-dom-scatter"></canvas></div>
    </div>
  </div>

  <div class="card">
    <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label" id="dom-tbl-title">2024ë…„ Top 20 ì¢…ëª© ìƒì„¸</span></div>
    <div class="tbl-wrap tbl-scroll">
      <table id="t-domestic">
        <thead><tr>
          <th>ìˆœìœ„</th><th>ì¢…ëª©ëª…</th><th>ì½”ë“œ</th>
          <th>ìµœì¢… ìŠ¤ì½”ì–´</th><th>Y-ìŠ¤ì½”ì–´</th><th>Z-ìŠ¤ì½”ì–´</th>
          <th>NPS ë¹„ì¤‘%</th><th>ì—°ê°„ ìˆ˜ìµë¥ </th><th>3M ëª¨ë©˜í…€</th><th>ë³€ë™ì„±</th><th>DART</th>
        </tr></thead>
        <tbody id="tbody-domestic"></tbody>
      </table>
    </div>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE: FOREIGN â•â• -->
<section class="page" id="p-foreign">
  <div class="page-hero">
    <h1><em>ë¯¸êµ­ì£¼ì‹</em> ë¶„ì„</h1>
    <p>ì„¹í„° ê°€ì¤‘ ëª¨ë¸ (final_score_sector) ê¸°ë°˜ í•´ì™¸ ìƒìœ„ ì¢…ëª©ì„ ë¶„ì„í•©ë‹ˆë‹¤.</p>
  </div>

  <div class="info-banner mb16">
    <span class="icon">â„¹ï¸</span>
    <div><strong>í•´ì™¸ ëª¨ë¸:</strong> Y:Z = 60:40 Â· SEC 8-K ê³µì‹œ ë°ì´í„° ê¸°ë°˜ Â· ì„¹í„° ì‹œê·¸ë„(sec_signal) ì¶”ê°€ ì ìš© Â· final_score_sector = final_score Ã— ì„¹í„° ë³´ì •</div>
  </div>

  <div class="ctrl-row mb24">
    <div class="ctrl-group">
      <label>ê¸°ì¤€ ì—°ë„</label>
      <select id="fgn-year" onchange="renderForeign()">
        <option value="2021">2021ë…„</option>
        <option value="2022">2022ë…„</option>
        <option value="2023">2023ë…„</option>
        <option value="2024" selected>2024ë…„</option>
      </select>
    </div>
    <div class="ctrl-group" style="max-width:200px">
      <label>ìƒìœ„ Nê°œ: <span class="ctrl-val-badge" id="fgn-n-val">15</span></label>
      <input type="range" id="fgn-n" min="5" max="30" value="15" oninput="document.getElementById('fgn-n-val').textContent=this.value;renderForeign()">
    </div>
    <div class="ctrl-group">
      <label>ì„¹í„° í•„í„°</label>
      <select id="fgn-sector" onchange="renderForeign()">
        <option value="all">ì „ì²´ ì„¹í„°</option>
        <option value="IT/í…Œí¬">IT/í…Œí¬</option>
        <option value="í—¬ìŠ¤ì¼€ì–´">í—¬ìŠ¤ì¼€ì–´</option>
        <option value="ê¸ˆìœµ">ê¸ˆìœµ</option>
        <option value="ì—ë„ˆì§€">ì—ë„ˆì§€</option>
        <option value="ì†Œë¹„ì¬">ì†Œë¹„ì¬</option>
        <option value="ë°©ì‚°">ë°©ì‚°</option>
        <option value="ë¯¸ë””ì–´/í†µì‹ ">ë¯¸ë””ì–´/í†µì‹ </option>
      </select>
    </div>
  </div>

  <div class="g2 mb16">
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ì„¹í„°ë³„ í‰ê·  ìŠ¤ì½”ì–´</span></div>
      <div class="chart-box chart-box-h260"><canvas id="c-fgn-sector"></canvas></div>
    </div>
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ì„¹í„° ë¶„í¬</span></div>
      <div class="chart-box chart-box-h260"><canvas id="c-fgn-pie"></canvas></div>
    </div>
  </div>

  <div class="card mb16">
    <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label" id="fgn-tbl-title">2024ë…„ Top 15 í•´ì™¸ì£¼ì‹</span></div>
    <div class="tbl-wrap tbl-scroll">
      <table id="t-foreign">
        <thead><tr>
          <th>ìˆœìœ„</th><th>ì¢…ëª©ëª…</th><th>í‹°ì»¤</th><th>ì„¹í„°</th>
          <th>ì„¹í„° ìŠ¤ì½”ì–´</th><th>Y-ìŠ¤ì½”ì–´</th><th>Z-ìŠ¤ì½”ì–´</th>
          <th>NPS ë¹„ì¤‘%</th><th>ì„¹í„° ì‹œê·¸ë„</th><th>BULK</th>
        </tr></thead>
        <tbody id="tbody-foreign"></tbody>
      </table>
    </div>
  </div>

  <div class="card">
    <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ì—°ë„ë³„ ì„¹í„° íŠ¸ë Œë“œ</span></div>
    <div class="chart-box chart-box-h320"><canvas id="c-fgn-trend"></canvas></div>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE: DATE PREDICTION â•â• -->
<section class="page" id="p-date">
  <div class="page-hero">
    <h1><em>ë‚ ì§œë³„</em> ì˜ˆì¸¡ & ê²€ì¦</h1>
    <p>íŠ¹ì • ë‚ ì§œì— NPS ëª¨ë¸ ê¸°ë°˜ìœ¼ë¡œ íˆ¬ìí–ˆë‹¤ë©´ ì–´ë• ì„ì§€ â€” ì˜ˆì¸¡ ìƒì„± ë° ì‹¤ì œ ì£¼ê°€ ê²€ì¦</p>
  </div>

  <div class="warn-banner info-banner mb24">
    <span class="icon">âš ï¸</span>
    <div><strong>ì˜ˆì¸¡ ë°©ì‹:</strong> 2025â€“2026 ì˜ˆì¸¡ì€ 2024ë…„ ìµœì¢… ìŠ¤ì½”ì–´ Ã— ëª¨ë©˜í…€ + ì„¹í„° ë³´ì • ê³µì‹ ì ìš©. ì‹¤ì œ ì£¼ê°€ ê²€ì¦ì€ Yahoo Finance APIë¥¼ ì‚¬ìš©í•˜ë‚˜ ë„¤íŠ¸ì›Œí¬ ì œí•œìœ¼ë¡œ ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œë¡œ ë™ì‘í•©ë‹ˆë‹¤. <strong>íˆ¬ì ì˜ì‚¬ê²°ì •ì— ì§ì ‘ ì‚¬ìš© ê¸ˆì§€.</strong></div>
  </div>

  <div class="date-panel mb24">
    <div class="date-panel-title">
      ğŸ—“ï¸ ë‚ ì§œ ì„¤ì •
      <span class="subtitle">FORECAST ENGINE</span>
    </div>
    <div class="date-grid">
      <div class="ctrl-group">
        <label>íˆ¬ì ê¸°ì¤€ì¼</label>
        <input type="date" id="date-from" value="2025-01-01" onchange="runDateForecast()">
      </div>
      <div class="ctrl-group">
        <label>ëª©í‘œ í™•ì¸ì¼</label>
        <input type="date" id="date-to" value="2025-12-31" onchange="runDateForecast()">
      </div>
      <div class="ctrl-group">
        <label>í¬íŠ¸í´ë¦¬ì˜¤</label>
        <select id="date-market" onchange="runDateForecast()">
          <option value="domestic">êµ­ë‚´ì£¼ì‹ (KOSPI)</option>
          <option value="foreign">ë¯¸êµ­ì£¼ì‹ (NYSE/NASDAQ)</option>
        </select>
      </div>
      <div class="ctrl-group" style="max-width:160px">
        <label>Top Nì¢…ëª©</label>
        <select id="date-topn" onchange="runDateForecast()">
          <option value="5">Top 5</option>
          <option value="10" selected>Top 10</option>
          <option value="20">Top 20</option>
        </select>
      </div>
    </div>
  </div>

  <div class="g2 mb16" id="date-summary-cards">
    <div class="card result-panel neutral" id="date-result-card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ì˜ˆì¸¡ ê²°ê³¼ ìš”ì•½</span></div>
      <div id="date-result-body" class="empty-state"><div class="icon">ğŸ”®</div>ë‚ ì§œë¥¼ ì„ íƒí•˜ë©´ ì˜ˆì¸¡ì´ ìƒì„±ë©ë‹ˆë‹¤</div>
    </div>
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ì˜ˆì¸¡ ìˆ˜ìµë¥  ë¶„í¬</span></div>
      <div class="chart-box chart-box-h200"><canvas id="c-date-bar"></canvas></div>
    </div>
  </div>

  <div class="card mb16">
    <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">í¬íŠ¸í´ë¦¬ì˜¤ ì¢…ëª© ìƒì„¸ & ì£¼ê°€ ê²€ì¦</span><span class="tag tag-forecast" id="date-mode-tag">ì˜ˆì¸¡</span></div>
    <div class="tbl-wrap">
      <table id="t-date">
        <thead><tr>
          <th>ìˆœìœ„</th><th>ì¢…ëª©ëª…</th><th>í‹°ì»¤/ì½”ë“œ</th>
          <th>ê¸°ì¤€ ìŠ¤ì½”ì–´</th><th>ì˜ˆì¸¡ ìˆ˜ìµë¥ </th><th>ì˜ˆì¸¡ ê°€ê²©ë°©í–¥</th>
          <th>ì‹œë®¬ ìˆ˜ìµë¥ </th><th>ì‹ ë¢°ë„</th><th>ì‹ í˜¸</th>
        </tr></thead>
        <tbody id="tbody-date"></tbody>
      </table>
    </div>
  </div>

  <div class="card">
    <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ì›”ë³„ ì˜ˆì¸¡ íƒ€ì„ë¼ì¸</span></div>
    <div id="date-timeline" class="timeline" style="padding-top:16px"></div>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE: SIMULATOR â•â• -->
<section class="page" id="p-sim">
  <div class="page-hero">
    <h1>íˆ¬ì <em>ì‹œë®¬ë ˆì´í„°</em></h1>
    <p>ê³¼ê±° ì‹¤ì œ ìˆ˜ìµë¥  ê¸°ë°˜ ë°±í…ŒìŠ¤íŠ¸ / 2025-2026 ì˜ˆì¸¡ ì‹œë®¬ë ˆì´ì…˜</p>
  </div>

  <div class="ctrl-row mb24">
    <div class="ctrl-group">
      <label>íˆ¬ì ì—°ë„</label>
      <select id="sim-year" onchange="renderSim()">
        <option value="2021to2022">2021ë…„â†’2022ë…„ (ì‹¤ì œ)</option>
        <option value="2022to2023">2022ë…„â†’2023ë…„ (ì‹¤ì œ)</option>
        <option value="2023to2024" selected>2023ë…„â†’2024ë…„ (ì‹¤ì œ)</option>
        <option value="2024to2025">2024ë…„â†’2025ë…„ (ì˜ˆì¸¡)</option>
        <option value="2024to2026">2024ë…„â†’2026ë…„ (ì˜ˆì¸¡)</option>
      </select>
    </div>
    <div class="ctrl-group">
      <label>íˆ¬ì ê¸ˆì•¡ (ë§Œì›)</label>
      <input type="number" id="sim-amt" value="1000" min="100" max="100000" step="100" oninput="renderSim()">
    </div>
    <div class="ctrl-group" style="max-width:180px">
      <label>Top N: <span class="ctrl-val-badge" id="sim-n-val">10</span></label>
      <input type="range" id="sim-n" min="1" max="30" value="10" oninput="document.getElementById('sim-n-val').textContent=this.value;renderSim()">
    </div>
    <div class="ctrl-group">
      <label>ë¹„ì¤‘ ë°©ì‹</label>
      <select id="sim-weight" onchange="renderSim()">
        <option value="equal">ê· ë“± ë°°ë¶„</option>
        <option value="score">ìŠ¤ì½”ì–´ ë¹„ë¡€</option>
        <option value="nps">NPS ë¹„ì¤‘ ë¹„ë¡€</option>
      </select>
    </div>
    <div class="ctrl-group">
      <label>ì‹œì¥</label>
      <select id="sim-market" onchange="renderSim()">
        <option value="domestic">êµ­ë‚´ (KOSPI)</option>
        <option value="foreign">ë¯¸êµ­ (US)</option>
      </select>
    </div>
  </div>

  <div class="g4 stagger mb16" id="sim-kpi"></div>

  <div class="g2 mb16">
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„±</span></div>
      <div class="chart-box chart-box-h260"><canvas id="c-sim-pie"></canvas></div>
    </div>
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ì¢…ëª©ë³„ ìˆ˜ìµë¥ </span></div>
      <div class="chart-box chart-box-h260"><canvas id="c-sim-bar"></canvas></div>
    </div>
  </div>

  <div class="card">
    <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">í¬íŠ¸í´ë¦¬ì˜¤ ìƒì„¸ ê²°ê³¼</span><span class="tag" id="sim-year-tag" style="margin-left:auto">2023â†’2024</span></div>
    <div class="tbl-wrap tbl-scroll">
      <table>
        <thead><tr>
          <th>ìˆœìœ„</th><th>ì¢…ëª©</th><th>ìŠ¤ì½”ì–´</th><th>ë°°ë¶„ ë¹„ì¤‘%</th>
          <th>íˆ¬ìê¸ˆ (ë§Œì›)</th><th>ìˆ˜ìµë¥ </th><th>ì†ìµ (ë§Œì›)</th>
        </tr></thead>
        <tbody id="tbody-sim"></tbody>
      </table>
    </div>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE: MODEL â•â• -->
<section class="page" id="p-model">
  <div class="page-hero">
    <h1>ëª¨ë¸ <em>ì„±ëŠ¥</em> ë¶„ì„</h1>
    <p>ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼, ETF ë¹„êµ, ì›”ë³„ ì„±ê³¼ (A_comparison) ë°ì´í„°ë¥¼ ì¢…í•© ë¶„ì„í•©ë‹ˆë‹¤.</p>
  </div>

  <div class="g4 stagger mb16" id="model-kpi"></div>

  <div class="g2 mb16">
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">Top Në³„ ë°±í…ŒìŠ¤íŠ¸ ë¹„êµ (2022â€“2024)</span></div>
      <div class="chart-box chart-box-h320"><canvas id="c-bt-grouped"></canvas></div>
    </div>
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ETF vs NPS ì›”ë³„ ìˆ˜ìµë¥ </span></div>
      <div class="chart-box chart-box-h320"><canvas id="c-monthly"></canvas></div>
    </div>
  </div>

  <div class="g2 mb16">
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ëˆ„ì  ì„±ê³¼ ë¹„êµ (ETF vs NPS)</span></div>
      <div class="chart-box chart-box-h260"><canvas id="c-cum"></canvas></div>
    </div>
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ì—°ë„ë³„ ë°±í…ŒìŠ¤íŠ¸ ì¶”ì´</span></div>
      <div class="chart-box chart-box-h260"><canvas id="c-bt-line"></canvas></div>
    </div>
  </div>

  <div class="card">
    <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ìƒì„¸ ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ í…Œì´ë¸”</span></div>
    <div class="tbl-wrap">
      <table id="t-bt"></table>
    </div>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE: ACCURACY â•â• -->
<section class="page" id="p-accuracy">
  <div class="page-hero">
    <h1>ML ëª¨ë¸ <em>ì •í™•ë„</em></h1>
    <p>RandomForest / XGBoost / LightGBM / SVM 4ê°œ ëª¨ë¸ì˜ ë°©í–¥ì„± ì˜ˆì¸¡ ì ì¤‘ë¥  ë¹„êµ</p>
  </div>

  <div class="g4 stagger mb16" id="acc-kpi"></div>

  <div class="g2 mb16">
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ëª¨ë¸ë³„ ì ì¤‘ë¥ </span></div>
      <div class="chart-box chart-box-h260"><canvas id="c-acc-bar"></canvas></div>
    </div>
    <div class="card">
      <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ëª¨ë¸ ì¹´ë“œ</span></div>
      <div class="model-compare-grid" id="acc-model-cards"></div>
    </div>
  </div>

  <div class="card mb16">
    <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ëª¨ë¸ë³„ í•„í„°</span></div>
    <div class="tab-bar" id="acc-tabs">
      <button class="tab-btn active" onclick="filterAccModel('all',this)">ì „ì²´</button>
      <button class="tab-btn" onclick="filterAccModel('RandomForest',this)">RandomForest</button>
      <button class="tab-btn" onclick="filterAccModel('XGBoost',this)">XGBoost</button>
      <button class="tab-btn" onclick="filterAccModel('LightGBM',this)">LightGBM</button>
      <button class="tab-btn" onclick="filterAccModel('SVM',this)">SVM</button>
    </div>
    <div class="tbl-wrap tbl-scroll">
      <table>
        <thead><tr>
          <th>ëª¨ë¸</th><th>ì¢…ëª©</th><th>ìµœì¢…ìŠ¤ì½”ì–´</th>
          <th>ì˜ˆì¸¡ ìˆ˜ìµë¥ </th><th>ì‹¤ì œ ìˆ˜ìµë¥ </th><th>ì˜ˆì¸¡ ë°©í–¥</th><th>ì ì¤‘</th>
        </tr></thead>
        <tbody id="tbody-acc"></tbody>
      </table>
    </div>
  </div>

  <div class="card">
    <div class="card-head"><div class="card-head-bar"></div><span class="card-head-label">ì¢…ëª©ë³„ ì˜ˆì¸¡ vs ì‹¤ì œ (2024 ê¸°ì¤€)</span></div>
    <div class="chart-box chart-box-h380"><canvas id="c-acc-scatter"></canvas></div>
  </div>
</section>

</main>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SCRIPT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
// â”€â”€ DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const D = {"domestic":{"2021":[{"name":"ì‚¼ì„±ì „ì","ticker":"005930","final_score":0.9972,"Y_score":1.0,"Z_score_norm":0.7167,"weight":22.0,"value":398413.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-3.94,"ì—°ê°„ë³€ë™ì„±(vol_t)":21.64,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":7.45,"dart_score":0.3636,"has_bulk":1},{"name":"ë©”ë¦¬ì¸ ê¸ˆìœµì§€ì£¼","ticker":"138040","final_score":0.5674,"Y_score":0.5706,"Z_score_norm":0.2532,"weight":0.28,"value":2821.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":356.83,"ì—°ê°„ë³€ë™ì„±(vol_t)":41.48,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":37.55,"dart_score":0.0,"has_bulk":0},{"name":"ë§¥ì¿¼ë¦¬ì¸í”„ë¼","ticker":"088980","final_score":0.5021,"Y_score":0.503,"Z_score_norm":0.4145,"weight":0.27,"value":1766.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":39.65,"ì—°ê°„ë³€ë™ì„±(vol_t)":9.92,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":11.06,"dart_score":0.0,"has_bulk":0},{"name":"í•œì „ê¸°ìˆ ","ticker":"052690","final_score":0.4688,"Y_score":0.4708,"Z_score_norm":0.2681,"weight":0.15,"value":2640.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":370.92,"ì—°ê°„ë³€ë™ì„±(vol_t)":76.37,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":76.11,"dart_score":0.3636,"has_bulk":1},{"name":"í•œì§„ì¹¼","ticker":"180640","final_score":0.4286,"Y_score":0.4314,"Z_score_norm":0.1528,"weight":0.19,"value":1387.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-1.44,"ì—°ê°„ë³€ë™ì„±(vol_t)":38.27,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":2.85,"dart_score":0.1818,"has_bulk":1},{"name":"íš¨ì„±ì²¨ë‹¨ì†Œì¬","ticker":"298050","final_score":0.3982,"Y_score":0.3955,"Z_score_norm":0.6656,"weight":0.13,"value":2067.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":301.51,"ì—°ê°„ë³€ë™ì„±(vol_t)":62.36,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-15.44,"dart_score":0.2727,"has_bulk":1},{"name":"í™”ìŠ¹ì—”í„°í”„ë¼ì´ì¦ˆ","ticker":"241590","final_score":0.3299,"Y_score":0.3297,"Z_score_norm":0.3522,"weight":0.05,"value":1045.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":20.68,"ì—°ê°„ë³€ë™ì„±(vol_t)":46.31,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":1.47,"dart_score":0.9091,"has_bulk":1},{"name":"SKí•˜ì´ë‹‰ìŠ¤","ticker":"000660","final_score":0.3277,"Y_score":0.3252,"Z_score_norm":0.5741,"weight":4.49,"value":86696.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":5.24,"ì—°ê°„ë³€ë™ì„±(vol_t)":35.8,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":32.6,"dart_score":0.3636,"has_bulk":1},{"name":"ë‘ì‚°","ticker":"000150","final_score":0.3136,"Y_score":0.3106,"Z_score_norm":0.6076,"weight":0.09,"value":2138.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":130.79,"ì—°ê°„ë³€ë™ì„±(vol_t)":55.11,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":29.04,"dart_score":0.3182,"has_bulk":1},{"name":"ë™ì•„ì—ìŠ¤í‹°","ticker":"170900","final_score":0.3131,"Y_score":0.3116,"Z_score_norm":0.4582,"weight":0.03,"value":504.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-21.85,"ì—°ê°„ë³€ë™ì„±(vol_t)":25.7,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-2.55,"dart_score":1.0,"has_bulk":1},{"name":"í›„ì„±","ticker":"093370","final_score":0.3096,"Y_score":0.3086,"Z_score_norm":0.4152,"weight":0.1,"value":1963.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":87.17,"ì—°ê°„ë³€ë™ì„±(vol_t)":52.26,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":12.76,"dart_score":0.2727,"has_bulk":1},{"name":"LIGë„¥ìŠ¤ì›","ticker":"079550","final_score":0.3087,"Y_score":0.3054,"Z_score_norm":0.6386,"weight":0.07,"value":2049.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":127.62,"ì—°ê°„ë³€ë™ì„±(vol_t)":49.7,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":38.65,"dart_score":0.4545,"has_bulk":1},{"name":"NAVER","ticker":"035420","final_score":0.3076,"Y_score":0.3057,"Z_score_norm":0.5022,"weight":2.92,"value":55368.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":29.35,"ì—°ê°„ë³€ë™ì„±(vol_t)":32.5,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-0.78,"dart_score":0.5909,"has_bulk":1},{"name":"ì‚¼ì„±ì „ê¸°","ticker":"009150","final_score":0.2988,"Y_score":0.2958,"Z_score_norm":0.6033,"weight":0.69,"value":15413.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":10.92,"ì—°ê°„ë³€ë™ì„±(vol_t)":33.87,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":17.79,"dart_score":1.0,"has_bulk":1},{"name":"ì†”ë£¨ìŠ¤ì²¨ë‹¨ì†Œì¬","ticker":"336370","final_score":0.2808,"Y_score":0.2779,"Z_score_norm":0.5743,"weight":0.13,"value":1644.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":75.99,"ì—°ê°„ë³€ë™ì„±(vol_t)":47.93,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":22.47,"dart_score":0.0,"has_bulk":0},{"name":"ë™ì•„ì˜ì‹œì˜¤í™€ë”©ìŠ¤","ticker":"000640","final_score":0.2792,"Y_score":0.278,"Z_score_norm":0.3973,"weight":0.03,"value":915.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-5.69,"ì—°ê°„ë³€ë™ì„±(vol_t)":34.43,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":3.1,"dart_score":0.8182,"has_bulk":1},{"name":"ë¡¯ë°ì¹ ì„±","ticker":"005300","final_score":0.2782,"Y_score":0.2739,"Z_score_norm":0.7009,"weight":0.06,"value":1086.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":27.57,"ì—°ê°„ë³€ë™ì„±(vol_t)":36.17,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-5.86,"dart_score":0.5,"has_bulk":1},{"name":"íš¨ì„±í™”í•™","ticker":"298000","final_score":0.2771,"Y_score":0.2739,"Z_score_norm":0.5939,"weight":0.05,"value":1126.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":90.28,"ì—°ê°„ë³€ë™ì„±(vol_t)":63.63,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-12.54,"dart_score":0.5909,"has_bulk":1},{"name":"SK","ticker":"034730","final_score":0.2727,"Y_score":0.2685,"Z_score_norm":0.686,"weight":0.88,"value":15667.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":3.77,"ì—°ê°„ë³€ë™ì„±(vol_t)":36.21,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-1.88,"dart_score":0.8636,"has_bulk":1},{"name":"ìœ„ë©”ì´ë“œ","ticker":"112040","final_score":0.27,"Y_score":0.2728,"Z_score_norm":0.0,"weight":0.0,"value":1791.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":835.94,"ì—°ê°„ë³€ë™ì„±(vol_t)":95.8,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":118.25,"dart_score":0.1818,"has_bulk":1}],"2022":[{"name":"ì‚¼ì„±ì „ì","ticker":"005930","final_score":0.9933,"Y_score":1.0,"Z_score_norm":0.3301,"weight":20.04,"value":248521.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-28.0,"ì—°ê°„ë³€ë™ì„±(vol_t)":23.12,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":0.81,"dart_score":0.1,"has_bulk":1},{"name":"ì—˜ì•¤ì—í”„","ticker":"066970","final_score":0.5221,"Y_score":0.52,"Z_score_norm":0.725,"weight":0.2,"value":2523.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-16.2,"ì—°ê°„ë³€ë™ì„±(vol_t)":53.72,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-4.1,"dart_score":0.0,"has_bulk":0},{"name":"ì—ìŠ¤ì— ","ticker":"041510","final_score":0.4949,"Y_score":0.4965,"Z_score_norm":0.3321,"weight":0.13,"value":1618.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":10.15,"ì—°ê°„ë³€ë™ì„±(vol_t)":53.46,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":11.25,"dart_score":0.4,"has_bulk":1},{"name":"JYP Ent.","ticker":"035900","final_score":0.4931,"Y_score":0.4953,"Z_score_norm":0.2768,"weight":0.13,"value":1591.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":41.87,"ì—°ê°„ë³€ë™ì„±(vol_t)":42.27,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":14.38,"dart_score":0.3,"has_bulk":1},{"name":"í˜„ëŒ€ì°¨2ìš°B","ticker":"005387","final_score":0.482,"Y_score":0.4821,"Z_score_norm":0.4796,"weight":0.18,"value":2178.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-19.59,"ì—°ê°„ë³€ë™ì„±(vol_t)":22.26,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-5.65,"dart_score":0.0,"has_bulk":0},{"name":"ì‚¼ì„±ì „ììš°","ticker":"005935","final_score":0.4761,"Y_score":0.4796,"Z_score_norm":0.1239,"weight":0.15,"value":1799.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-27.65,"ì—°ê°„ë³€ë™ì„±(vol_t)":22.01,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":3.15,"dart_score":0.1,"has_bulk":1},{"name":"ë¦¬ë…¸ê³µì—…","ticker":"058470","final_score":0.3801,"Y_score":0.3806,"Z_score_norm":0.3321,"weight":0.11,"value":1370.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-19.29,"ì—°ê°„ë³€ë™ì„±(vol_t)":36.81,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":17.91,"dart_score":0.1,"has_bulk":1},{"name":"LGí™”í•™ìš°","ticker":"051915","final_score":0.3557,"Y_score":0.3584,"Z_score_norm":0.0893,"weight":0.1,"value":1221.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-2.47,"ì—°ê°„ë³€ë™ì„±(vol_t)":40.29,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":10.47,"dart_score":0.1,"has_bulk":1},{"name":"ì²œë³´","ticker":"278280","final_score":0.3449,"Y_score":0.3446,"Z_score_norm":0.3733,"weight":0.1,"value":1252.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-33.55,"ì—°ê°„ë³€ë™ì„±(vol_t)":47.47,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":17.29,"dart_score":0.1,"has_bulk":1},{"name":"ì—ìŠ¤í‹°íŒœ","ticker":"237690","final_score":0.3389,"Y_score":0.3354,"Z_score_norm":0.6838,"weight":0.09,"value":1161.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-32.34,"ì—°ê°„ë³€ë™ì„±(vol_t)":45.82,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":3.03,"dart_score":0.2,"has_bulk":1},{"name":"LGì—ë„ˆì§€ì†”ë£¨ì…˜","ticker":"373220","final_score":0.2938,"Y_score":0.2924,"Z_score_norm":0.4347,"weight":4.42,"value":54757.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-13.76,"ì—°ê°„ë³€ë™ì„±(vol_t)":41.04,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-2.02,"dart_score":0.1,"has_bulk":1},{"name":"í•œí™”ì—ì–´ë¡œìŠ¤í˜ì´ìŠ¤","ticker":"012450","final_score":0.2894,"Y_score":0.2872,"Z_score_norm":0.5052,"weight":0.29,"value":3613.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":47.98,"ì—°ê°„ë³€ë™ì„±(vol_t)":50.89,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":18.76,"dart_score":0.85,"has_bulk":1},{"name":"ì—ìŠ¤ì—í”„ì—ì´","ticker":"056190","final_score":0.2841,"Y_score":0.2821,"Z_score_norm":0.4774,"weight":0.07,"value":835.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":3.39,"ì—°ê°„ë³€ë™ì„±(vol_t)":29.19,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-6.82,"dart_score":0.1,"has_bulk":1},{"name":"ìŠ¤íŠœë””ì˜¤ë“œë˜ê³¤","ticker":"253450","final_score":0.2824,"Y_score":0.28,"Z_score_norm":0.5195,"weight":0.09,"value":1112.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-8.99,"ì—°ê°„ë³€ë™ì„±(vol_t)":42.31,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":26.1,"dart_score":0.0,"has_bulk":0},{"name":"ë†ì‹¬","ticker":"004370","final_score":0.2776,"Y_score":0.2801,"Z_score_norm":0.0377,"weight":0.21,"value":2646.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":16.24,"ì—°ê°„ë³€ë™ì„±(vol_t)":26.08,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":21.71,"dart_score":0.85,"has_bulk":1},{"name":"LGì´ë…¸í…","ticker":"011070","final_score":0.2749,"Y_score":0.2737,"Z_score_norm":0.3928,"weight":0.43,"value":5380.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-26.53,"ì—°ê°„ë³€ë™ì„±(vol_t)":44.81,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-9.71,"dart_score":0.95,"has_bulk":1},{"name":"í•œêµ­í•­ê³µìš°ì£¼","ticker":"047810","final_score":0.2713,"Y_score":0.2688,"Z_score_norm":0.5172,"weight":0.37,"value":4554.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":55.0,"ì—°ê°„ë³€ë™ì„±(vol_t)":46.64,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":0.1,"dart_score":0.75,"has_bulk":1},{"name":"ì—ì½”í”„ë¡œ","ticker":"086520","final_score":0.2675,"Y_score":0.2662,"Z_score_norm":0.3944,"weight":0.07,"value":871.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-0.59,"ì—°ê°„ë³€ë™ì„±(vol_t)":65.58,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-9.15,"dart_score":0.1,"has_bulk":1},{"name":"ì…€íŠ¸ë¦¬ì˜¨(ë°°ë‹¹)","ticker":"068270","final_score":0.2664,"Y_score":0.2664,"Z_score_norm":0.2659,"weight":0.06,"value":687.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-13.99,"ì—°ê°„ë³€ë™ì„±(vol_t)":39.73,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-3.3,"dart_score":0.2,"has_bulk":1},{"name":"DLì´ì•¤ì”¨","ticker":"375500","final_score":0.2656,"Y_score":0.2663,"Z_score_norm":0.1997,"weight":0.12,"value":1433.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-44.71,"ì—°ê°„ë³€ë™ì„±(vol_t)":38.62,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-3.1,"dart_score":1.0,"has_bulk":1}],"2023":[{"name":"ì‚¼ì„±ì „ì","ticker":"005930","final_score":0.9929,"Y_score":1.0,"Z_score_norm":0.2903,"weight":23.29,"value":341048.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":44.4,"ì—°ê°„ë³€ë™ì„±(vol_t)":21.12,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":16.85,"dart_score":0.0,"has_bulk":0},{"name":"TCCìŠ¤í‹¸","ticker":"002710","final_score":0.6444,"Y_score":0.6465,"Z_score_norm":0.4359,"weight":0.04,"value":544.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":530.48,"ì—°ê°„ë³€ë™ì„±(vol_t)":83.8,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":17.54,"dart_score":0.0,"has_bulk":0},{"name":"ë£¨ë‹›","ticker":"328130","final_score":0.5016,"Y_score":0.5041,"Z_score_norm":0.2495,"weight":0.03,"value":441.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":507.16,"ì—°ê°„ë³€ë™ì„±(vol_t)":94.78,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-1.62,"dart_score":0.0,"has_bulk":0},{"name":"ì½”ë¯¸ì½”","ticker":"183300","final_score":0.4673,"Y_score":0.4666,"Z_score_norm":0.5335,"weight":0.03,"value":389.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":54.34,"ì—°ê°„ë³€ë™ì„±(vol_t)":37.95,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":36.2,"dart_score":0.0,"has_bulk":0},{"name":"ì›í…","ticker":"336570","final_score":0.4525,"Y_score":0.4518,"Z_score_norm":0.5241,"weight":0.03,"value":476.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":105.93,"ì—°ê°„ë³€ë™ì„±(vol_t)":56.56,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-13.15,"dart_score":0.0,"has_bulk":0},{"name":"ì‚¼ì•„ì•Œë¯¸ëŠ„","ticker":"006110","final_score":0.4516,"Y_score":0.4544,"Z_score_norm":0.174,"weight":0.03,"value":410.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":162.97,"ì—°ê°„ë³€ë™ì„±(vol_t)":81.14,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":4.01,"dart_score":0.0,"has_bulk":0},{"name":"SKí•˜ì´ë‹‰ìŠ¤","ticker":"000660","final_score":0.3953,"Y_score":0.398,"Z_score_norm":0.1328,"weight":5.62,"value":82235.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":88.95,"ì—°ê°„ë³€ë™ì„±(vol_t)":35.01,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":22.88,"dart_score":0.2353,"has_bulk":1},{"name":"í©íŠ¸ë¡ ","ticker":"087010","final_score":0.3742,"Y_score":0.3735,"Z_score_norm":0.4359,"weight":0.02,"value":264.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":445.39,"ì—°ê°„ë³€ë™ì„±(vol_t)":99.1,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":30.26,"dart_score":0.0,"has_bulk":0},{"name":"ì— ë¡œ","ticker":"058970","final_score":0.3654,"Y_score":0.3641,"Z_score_norm":0.4981,"weight":0.02,"value":340.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":391.1,"ì—°ê°„ë³€ë™ì„±(vol_t)":89.05,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":12.38,"dart_score":0.0,"has_bulk":0},{"name":"ê¸ˆì–‘","ticker":"001570","final_score":0.3481,"Y_score":0.3487,"Z_score_norm":0.2821,"weight":0.02,"value":250.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":365.67,"ì—°ê°„ë³€ë™ì„±(vol_t)":99.11,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-8.31,"dart_score":0.0,"has_bulk":0},{"name":"ë ˆì´í¬ë¨¸í‹°ë¦¬ì–¼ì¦ˆ","ticker":"281740","final_score":0.3376,"Y_score":0.3363,"Z_score_norm":0.4658,"weight":0.01,"value":104.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":302.55,"ì—°ê°„ë³€ë™ì„±(vol_t)":82.82,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":24.91,"dart_score":0.3529,"has_bulk":1},{"name":"JWì¤‘ì™¸ì œì•½","ticker":"001060","final_score":0.329,"Y_score":0.328,"Z_score_norm":0.4261,"weight":0.02,"value":342.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":105.28,"ì—°ê°„ë³€ë™ì„±(vol_t)":55.62,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-1.95,"dart_score":0.0,"has_bulk":0},{"name":"í˜¸í…”ì‹ ë¼","ticker":"008770","final_score":0.2994,"Y_score":0.2999,"Z_score_norm":0.2526,"weight":0.17,"value":2527.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-19.51,"ì—°ê°„ë³€ë™ì„±(vol_t)":36.26,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-17.06,"dart_score":1.0,"has_bulk":1},{"name":"íŒŒë§ˆë¦¬ì„œì¹˜","ticker":"214450","final_score":0.2982,"Y_score":0.296,"Z_score_norm":0.5179,"weight":0.07,"value":1042.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":62.45,"ì—°ê°„ë³€ë™ì„±(vol_t)":45.2,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-7.32,"dart_score":0.9412,"has_bulk":1},{"name":"LGì´ë…¸í…","ticker":"011070","final_score":0.2919,"Y_score":0.2934,"Z_score_norm":0.1514,"weight":0.37,"value":5475.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-4.24,"ì—°ê°„ë³€ë™ì„±(vol_t)":32.47,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":2.23,"dart_score":0.8824,"has_bulk":1},{"name":"í˜„ëŒ€ë°±í™”ì ","ticker":"069960","final_score":0.2893,"Y_score":0.2896,"Z_score_norm":0.2628,"weight":0.08,"value":1132.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-8.28,"ì—°ê°„ë³€ë™ì„±(vol_t)":31.46,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-10.29,"dart_score":0.9412,"has_bulk":1},{"name":"ëŒ€í•œìœ í™”","ticker":"006650","final_score":0.2807,"Y_score":0.2796,"Z_score_norm":0.3907,"weight":0.08,"value":1154.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-6.67,"ì—°ê°„ë³€ë™ì„±(vol_t)":42.56,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":16.67,"dart_score":0.8824,"has_bulk":1},{"name":"í•œì„¸ì‹¤ì—…","ticker":"105630","final_score":0.2736,"Y_score":0.2731,"Z_score_norm":0.3169,"weight":0.06,"value":898.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":46.01,"ì—°ê°„ë³€ë™ì„±(vol_t)":43.11,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":10.78,"dart_score":0.8235,"has_bulk":1},{"name":"íš¨ì„±í‹°ì•¤ì”¨","ticker":"298020","final_score":0.2727,"Y_score":0.2722,"Z_score_norm":0.3239,"weight":0.13,"value":1844.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":13.82,"ì—°ê°„ë³€ë™ì„±(vol_t)":40.04,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":12.12,"dart_score":0.8235,"has_bulk":1},{"name":"GSë¦¬í…Œì¼","ticker":"007070","final_score":0.2717,"Y_score":0.2713,"Z_score_norm":0.3088,"weight":0.15,"value":2233.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-15.16,"ì—°ê°„ë³€ë™ì„±(vol_t)":27.25,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":1.92,"dart_score":0.8235,"has_bulk":1},{"name":"ë‘ì‚°ë¡œë³´í‹±ìŠ¤","ticker":"454910","final_score":0.2687,"Y_score":0.2684,"Z_score_norm":0.304,"weight":0.24,"value":3574.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":125.88,"ì—°ê°„ë³€ë™ì„±(vol_t)":114.82,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":125.88,"dart_score":0.7059,"has_bulk":1}],"2024":[{"name":"ì‚¼ì„±ì „ì","ticker":"005930","final_score":0.9921,"Y_score":1.0,"Z_score_norm":0.2084,"weight":16.7,"value":230421.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-31.72,"ì—°ê°„ë³€ë™ì„±(vol_t)":32.07,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-12.62,"dart_score":0.0,"has_bulk":0},{"name":"ì¼ì§„ì „ê¸°","ticker":"103590","final_score":0.7287,"Y_score":0.7361,"Z_score_norm":0.0,"weight":0.08,"value":1115.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":156.52,"ì—°ê°„ë³€ë™ì„±(vol_t)":77.13,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":28.14,"dart_score":0.087,"has_bulk":1},{"name":"í…Œí¬ìœ™","ticker":"089030","final_score":0.6211,"Y_score":0.6273,"Z_score_norm":0.0,"weight":0.06,"value":801.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":231.79,"ì—°ê°„ë³€ë™ì„±(vol_t)":83.53,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":5.72,"dart_score":0.1739,"has_bulk":1},{"name":"SKí•˜ì´ë‹‰ìŠ¤","ticker":"000660","final_score":0.5558,"Y_score":0.5576,"Z_score_norm":0.3798,"weight":6.93,"value":95627.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":22.68,"ì—°ê°„ë³€ë™ì„±(vol_t)":49.53,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":2.84,"dart_score":0.1739,"has_bulk":1},{"name":"STXì—”ì§„","ticker":"077970","final_score":0.4164,"Y_score":0.4206,"Z_score_norm":0.0,"weight":0.04,"value":517.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":65.7,"ì—°ê°„ë³€ë™ì„±(vol_t)":58.51,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":6.07,"dart_score":0.1304,"has_bulk":1},{"name":"ë¹„ì—ì´ì¹˜ì•„ì´","ticker":"083650","final_score":0.3768,"Y_score":0.3713,"Z_score_norm":0.9242,"weight":0.02,"value":220.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":95.2,"ì—°ê°„ë³€ë™ì„±(vol_t)":68.73,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":111.8,"dart_score":0.3478,"has_bulk":1},{"name":"ì‚¼ì„±ë°”ì´ì˜¤ë¡œì§ìŠ¤","ticker":"207940","final_score":0.3295,"Y_score":0.3227,"Z_score_norm":1.0,"weight":3.39,"value":46721.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":20.28,"ì—°ê°„ë³€ë™ì„±(vol_t)":30.08,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-2.87,"dart_score":0.087,"has_bulk":1},{"name":"HDí˜„ëŒ€ì¼ë ‰íŠ¸ë¦­","ticker":"267260","final_score":0.3268,"Y_score":0.3236,"Z_score_norm":0.6433,"weight":0.76,"value":10556.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":378.47,"ì—°ê°„ë³€ë™ì„±(vol_t)":71.1,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":18.82,"dart_score":0.2609,"has_bulk":1},{"name":"í•œë¯¸ì•½í’ˆ","ticker":"128940","final_score":0.3184,"Y_score":0.3167,"Z_score_norm":0.4858,"weight":0.28,"value":3813.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-21.29,"ì—°ê°„ë³€ë™ì„±(vol_t)":40.39,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-10.91,"dart_score":1.0,"has_bulk":1},{"name":"LGì—ë„ˆì§€ì†”ë£¨ì…˜","ticker":"373220","final_score":0.3178,"Y_score":0.321,"Z_score_norm":0.0,"weight":3.75,"value":51706.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-18.98,"ì—°ê°„ë³€ë™ì„±(vol_t)":40.82,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-14.81,"dart_score":0.087,"has_bulk":1},{"name":"HDC","ticker":"012630","final_score":0.3101,"Y_score":0.308,"Z_score_norm":0.5167,"weight":0.02,"value":280.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":75.66,"ì—°ê°„ë³€ë™ì„±(vol_t)":33.67,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":10.58,"dart_score":0.8261,"has_bulk":1},{"name":"HDí˜„ëŒ€ì¤‘ê³µì—…","ticker":"329180","final_score":0.3033,"Y_score":0.3008,"Z_score_norm":0.557,"weight":1.22,"value":16837.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":126.38,"ì—°ê°„ë³€ë™ì„±(vol_t)":51.24,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":57.02,"dart_score":0.3478,"has_bulk":1},{"name":"ì‚¼ì„±ì¦ê¶Œ","ticker":"016360","final_score":0.3004,"Y_score":0.301,"Z_score_norm":0.2371,"weight":0.38,"value":5191.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":23.15,"ì—°ê°„ë³€ë™ì„±(vol_t)":30.33,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":7.87,"dart_score":0.7826,"has_bulk":1},{"name":"ë¸Œì´í‹°","ticker":"018290","final_score":0.2978,"Y_score":0.3008,"Z_score_norm":0.0,"weight":0.03,"value":361.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":130.81,"ì—°ê°„ë³€ë™ì„±(vol_t)":80.93,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":24.03,"dart_score":0.0,"has_bulk":0},{"name":"SNTì—ë„ˆì§€","ticker":"100840","final_score":0.2964,"Y_score":0.2994,"Z_score_norm":0.0,"weight":0.02,"value":253.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":238.96,"ì—°ê°„ë³€ë™ì„±(vol_t)":75.15,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":97.99,"dart_score":0.0,"has_bulk":0},{"name":"ë‘ì‚°","ticker":"000150","final_score":0.2911,"Y_score":0.2912,"Z_score_norm":0.2888,"weight":0.26,"value":3616.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":178.97,"ì—°ê°„ë³€ë™ì„±(vol_t)":70.05,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":53.61,"dart_score":0.5217,"has_bulk":1},{"name":"ì‚¼ì–‘ì‹í’ˆ","ticker":"003230","final_score":0.2888,"Y_score":0.2874,"Z_score_norm":0.4275,"weight":0.35,"value":4890.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":227.21,"ì—°ê°„ë³€ë™ì„±(vol_t)":63.44,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":52.39,"dart_score":0.3913,"has_bulk":1},{"name":"HDCí˜„ëŒ€ì‚°ì—…ê°œë°œ","ticker":"294870","final_score":0.2806,"Y_score":0.278,"Z_score_norm":0.539,"weight":0.11,"value":1464.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":27.02,"ì—°ê°„ë³€ë™ì„±(vol_t)":49.2,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-16.44,"dart_score":0.8261,"has_bulk":1},{"name":"ì‚¼í™”ì „ê¸°","ticker":"009470","final_score":0.2591,"Y_score":0.2522,"Z_score_norm":0.9479,"weight":0.01,"value":193.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":78.42,"ì—°ê°„ë³€ë™ì„±(vol_t)":81.53,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":-32.79,"dart_score":0.4348,"has_bulk":1},{"name":"ì…€íŠ¸ë¦¬ì˜¨","ticker":"068270","final_score":0.2491,"Y_score":0.2437,"Z_score_norm":0.7858,"weight":2.0,"value":27624.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":-14.62,"ì—°ê°„ë³€ë™ì„±(vol_t)":34.4,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":3.48,"dart_score":0.1739,"has_bulk":1},{"name":"ë‘ì‚°ìš°","ticker":"000155","final_score":0.2486,"Y_score":0.25,"Z_score_norm":0.114,"weight":0.0,"value":25.0,"ì—°ê°„ìˆ˜ìµë¥ (r_t)":113.25,"ì—°ê°„ë³€ë™ì„±(vol_t)":53.45,"3ê°œì›”ëª¨ë©˜í…€(mom_3m)":32.79,"dart_score":0.5217,"has_bulk":1}]},"foreign":{"2021":[{"name":"HCA HEALTHCARE INC","ticker":"HCA","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.7837,"final_score":0.7744,"Y_score":91.2841,"Z_score_norm":0.285,"weight":0.0035,"sec_signal":0.8906,"bulk":0},{"name":"META PLATFORMS INC CLASS A","ticker":"META","sector":"IT/í…Œí¬","final_score_sector":0.733,"final_score":0.8483,"Y_score":100.0,"Z_score_norm":0.3055,"weight":0.0127,"sec_signal":0.395,"bulk":1},{"name":"INTUITIVE SURGICAL INC","ticker":"ISRG","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.7007,"final_score":0.6924,"Y_score":60.4666,"Z_score_norm":0.655,"weight":0.0037,"sec_signal":0.8906,"bulk":0},{"name":"MICRON TECHNOLOGY INC","ticker":"MU","sector":"IT/í…Œí¬","final_score_sector":0.6676,"final_score":0.7726,"Y_score":99.8646,"Z_score_norm":0.1213,"weight":0.0049,"sec_signal":0.395,"bulk":0},{"name":"REGENERON PHARMACEUTICALS","ticker":"REGN","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.6598,"final_score":0.652,"Y_score":42.6695,"Z_score_norm":0.8858,"weight":0.0007,"sec_signal":0.8906,"bulk":1},{"name":"VERTEX PHARMACEUTICALS INC","ticker":"VRTX","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.6201,"final_score":0.6128,"Y_score":31.3071,"Z_score_norm":1.0,"weight":0.0009,"sec_signal":0.8906,"bulk":0},{"name":"EDWARDS LIFESCIENCES CORP","ticker":"EW","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.5931,"final_score":0.5861,"Y_score":61.6474,"Z_score_norm":0.3706,"weight":0.0025,"sec_signal":0.8906,"bulk":0},{"name":"TJX COMPANIES INC","ticker":"TJX","sector":"ì†Œë¹„ì¬","final_score_sector":0.5812,"final_score":0.6081,"Y_score":57.128,"Z_score_norm":0.5089,"weight":0.0024,"sec_signal":0.7025,"bulk":0},{"name":"NORTHROP GRUMMAN CORP","ticker":"NOC","sector":"ë°©ì‚°","final_score_sector":0.5685,"final_score":0.627,"Y_score":75.0124,"Z_score_norm":0.2235,"weight":0.0019,"sec_signal":0.5375,"bulk":0},{"name":"MICROSOFT CORP","ticker":"MSFT","sector":"IT/í…Œí¬","final_score_sector":0.5054,"final_score":0.5849,"Y_score":46.8829,"Z_score_norm":0.6418,"weight":0.0295,"sec_signal":0.395,"bulk":0},{"name":"NVIDIA CORP","ticker":"NVDA","sector":"IT/í…Œí¬","final_score_sector":0.5211,"final_score":0.6031,"Y_score":49.6319,"Z_score_norm":0.6358,"weight":0.01,"sec_signal":0.395,"bulk":0},{"name":"APPLE INC","ticker":"AAPL","sector":"IT/í…Œí¬","final_score_sector":0.4344,"final_score":0.4376,"Y_score":27.4954,"Z_score_norm":0.6384,"weight":0.0306,"sec_signal":0.395,"bulk":0},{"name":"UNITEDHEALTH GROUP INC","ticker":"UNH","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.5087,"final_score":0.5027,"Y_score":54.0708,"Z_score_norm":0.3055,"weight":0.0093,"sec_signal":0.8906,"bulk":0},{"name":"EXXON MOBIL CORP","ticker":"XOM","sector":"ì—ë„ˆì§€","final_score_sector":0.3412,"final_score":0.3867,"Y_score":22.4867,"Z_score_norm":0.5447,"weight":0.0037,"sec_signal":0.5963,"bulk":0},{"name":"PEPSICO INC","ticker":"PEP","sector":"ì†Œë¹„ì¬","final_score_sector":0.4838,"final_score":0.5062,"Y_score":35.8712,"Z_score_norm":0.652,"weight":0.0033,"sec_signal":0.7025,"bulk":0}],"2022":[{"name":"EXXON MOBIL CORP","ticker":"XOM","sector":"ì—ë„ˆì§€","final_score_sector":0.9156,"final_score":0.9442,"Y_score":97.3061,"Z_score_norm":0.5923,"weight":0.007,"sec_signal":0.7491,"bulk":1},{"name":"MERCK + CO. INC.","ticker":"MRK","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.8333,"final_score":0.8636,"Y_score":75.1351,"Z_score_norm":0.805,"weight":0.0055,"sec_signal":0.7329,"bulk":1},{"name":"HCA HEALTHCARE INC","ticker":"HCA","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.8308,"final_score":0.861,"Y_score":100.0,"Z_score_norm":0.3368,"weight":0.0045,"sec_signal":0.7329,"bulk":1},{"name":"JOHNSON + JOHNSON","ticker":"JNJ","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.8092,"final_score":0.8386,"Y_score":73.3637,"Z_score_norm":0.7763,"weight":0.0069,"sec_signal":0.7329,"bulk":1},{"name":"MICROSOFT CORP","ticker":"MSFT","sector":"IT/í…Œí¬","final_score_sector":0.7887,"final_score":1.0,"Y_score":89.9207,"Z_score_norm":0.8672,"weight":0.0265,"sec_signal":0.1426,"bulk":0},{"name":"UNITEDHEALTH GROUP INC","ticker":"UNH","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.7799,"final_score":0.8083,"Y_score":88.5043,"Z_score_norm":0.4202,"weight":0.0104,"sec_signal":0.7329,"bulk":1},{"name":"BOOKING HOLDINGS INC","ticker":"BKNG","sector":"ì—¬í–‰/ë ˆì €","final_score_sector":0.7339,"final_score":0.7493,"Y_score":72.333,"Z_score_norm":0.575,"weight":0.0038,"sec_signal":0.7817,"bulk":0},{"name":"CHEVRON CORP","ticker":"CVX","sector":"ì—ë„ˆì§€","final_score_sector":0.7201,"final_score":0.7425,"Y_score":74.8973,"Z_score_norm":0.5107,"weight":0.0046,"sec_signal":0.7491,"bulk":1},{"name":"DEERE + CO","ticker":"DE","sector":"ì‚°ì—…ì¬","final_score_sector":0.695,"final_score":0.7294,"Y_score":54.5104,"Z_score_norm":0.857,"weight":0.0027,"sec_signal":0.6922,"bulk":0},{"name":"VERTEX PHARMACEUTICALS INC","ticker":"VRTX","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.6891,"final_score":0.7142,"Y_score":45.6224,"Z_score_norm":0.9844,"weight":0.0014,"sec_signal":0.7329,"bulk":0},{"name":"INTUITIVE SURGICAL INC","ticker":"ISRG","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.6776,"final_score":0.7023,"Y_score":51.8471,"Z_score_norm":0.8393,"weight":0.0031,"sec_signal":0.7329,"bulk":0},{"name":"ELI LILLY + CO","ticker":"LLY","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.661,"final_score":0.685,"Y_score":59.0128,"Z_score_norm":0.6638,"weight":0.0034,"sec_signal":0.7329,"bulk":1},{"name":"MASTERCARD INC A","ticker":"MA","sector":"ê¸ˆìœµ","final_score_sector":0.6479,"final_score":0.7098,"Y_score":61.5485,"Z_score_norm":0.6777,"weight":0.0066,"sec_signal":0.5586,"bulk":0},{"name":"VISA INC CLASS A","ticker":"V","sector":"ê¸ˆìœµ","final_score_sector":0.6424,"final_score":0.7037,"Y_score":57.1396,"Z_score_norm":0.7445,"weight":0.0045,"sec_signal":0.5586,"bulk":0},{"name":"PEPSICO INC","ticker":"PEP","sector":"ì†Œë¹„ì¬","final_score_sector":0.5664,"final_score":0.6421,"Y_score":55.5314,"Z_score_norm":0.6224,"weight":0.0041,"sec_signal":0.4556,"bulk":0}],"2023":[{"name":"MICROSOFT CORP","ticker":"MSFT","sector":"IT/í…Œí¬","final_score_sector":0.9277,"final_score":0.9688,"Y_score":100.0,"Z_score_norm":0.603,"weight":0.0348,"sec_signal":0.7082,"bulk":1},{"name":"NVIDIA CORP","ticker":"NVDA","sector":"IT/í…Œí¬","final_score_sector":0.7759,"final_score":0.8103,"Y_score":79.7586,"Z_score_norm":0.5877,"weight":0.016,"sec_signal":0.7082,"bulk":1},{"name":"AMAZON.COM INC","ticker":"AMZN","sector":"IT/í…Œí¬","final_score_sector":0.6299,"final_score":0.6578,"Y_score":63.3624,"Z_score_norm":0.5158,"weight":0.0171,"sec_signal":0.7082,"bulk":1},{"name":"APPLE INC","ticker":"AAPL","sector":"IT/í…Œí¬","final_score_sector":0.5513,"final_score":0.5757,"Y_score":60.6507,"Z_score_norm":0.3635,"weight":0.0411,"sec_signal":0.7082,"bulk":0},{"name":"META PLATFORMS INC CLASS A","ticker":"META","sector":"IT/í…Œí¬","final_score_sector":0.5421,"final_score":0.5662,"Y_score":61.8657,"Z_score_norm":0.3174,"weight":0.013,"sec_signal":0.7082,"bulk":1},{"name":"ALPHABET INC CL A","ticker":"GOOGL","sector":"IT/í…Œí¬","final_score_sector":0.5219,"final_score":0.545,"Y_score":41.7116,"Z_score_norm":0.6395,"weight":0.0134,"sec_signal":0.7082,"bulk":1},{"name":"TJX COMPANIES INC","ticker":"TJX","sector":"ì†Œë¹„ì¬","final_score_sector":0.4597,"final_score":0.5193,"Y_score":18.8785,"Z_score_norm":1.0,"weight":0.003,"sec_signal":0.4658,"bulk":0},{"name":"BROADCOM INC","ticker":"AVGO","sector":"IT/í…Œí¬","final_score_sector":0.449,"final_score":0.4689,"Y_score":25.6285,"Z_score_norm":0.7504,"weight":0.0051,"sec_signal":0.7082,"bulk":1},{"name":"VERTEX PHARMACEUTICALS INC","ticker":"VRTX","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.3834,"final_score":0.4572,"Y_score":10.6833,"Z_score_norm":0.9989,"weight":0.0016,"sec_signal":0.3095,"bulk":0},{"name":"VISA INC CLASS A","ticker":"V","sector":"ê¸ˆìœµ","final_score_sector":0.3816,"final_score":0.4491,"Y_score":31.1337,"Z_score_norm":0.5992,"weight":0.0061,"sec_signal":0.3466,"bulk":1},{"name":"ELI LILLY + CO","ticker":"LLY","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.3046,"final_score":0.3633,"Y_score":19.116,"Z_score_norm":0.6105,"weight":0.0048,"sec_signal":0.3095,"bulk":1},{"name":"BOOKING HOLDINGS INC","ticker":"BKNG","sector":"ì—¬í–‰/ë ˆì €","final_score_sector":0.3741,"final_score":0.4136,"Y_score":32.9342,"Z_score_norm":0.4782,"weight":0.0046,"sec_signal":0.5306,"bulk":0},{"name":"NETFLIX INC","ticker":"NFLX","sector":"ë¯¸ë””ì–´/í†µì‹ ","final_score_sector":0.3199,"final_score":0.3669,"Y_score":16.0634,"Z_score_norm":0.6762,"weight":0.0033,"sec_signal":0.4211,"bulk":0},{"name":"SALESFORCE INC","ticker":"CRM","sector":"IT/í…Œí¬","final_score_sector":0.4204,"final_score":0.4391,"Y_score":8.5543,"Z_score_norm":0.9937,"weight":0.0029,"sec_signal":0.7082,"bulk":0},{"name":"QUALCOMM INC","ticker":"QCOM","sector":"IT/í…Œí¬","final_score_sector":0.3932,"final_score":0.4106,"Y_score":14.5554,"Z_score_norm":0.8121,"weight":0.0026,"sec_signal":0.7082,"bulk":0}],"2024":[{"name":"NVIDIA CORP","ticker":"NVDA","sector":"IT/í…Œí¬","final_score_sector":1.0,"final_score":0.9971,"Y_score":100.0,"Z_score_norm":0.6729,"weight":0.0427,"sec_signal":0.8601,"bulk":1},{"name":"APPLE INC","ticker":"AAPL","sector":"IT/í…Œí¬","final_score_sector":0.8798,"final_score":0.8772,"Y_score":74.4809,"Z_score_norm":0.8509,"weight":0.0491,"sec_signal":0.8601,"bulk":1},{"name":"MICROSOFT CORP","ticker":"MSFT","sector":"IT/í…Œí¬","final_score_sector":0.6896,"final_score":0.6876,"Y_score":57.3169,"Z_score_norm":0.7016,"weight":0.0393,"sec_signal":0.8601,"bulk":1},{"name":"AMAZON.COM INC","ticker":"AMZN","sector":"IT/í…Œí¬","final_score_sector":0.6732,"final_score":0.6713,"Y_score":45.818,"Z_score_norm":0.8749,"weight":0.0245,"sec_signal":0.8601,"bulk":1},{"name":"BROADCOM INC","ticker":"AVGO","sector":"IT/í…Œí¬","final_score_sector":0.5515,"final_score":0.5499,"Y_score":35.5514,"Z_score_norm":0.766,"weight":0.0127,"sec_signal":0.8601,"bulk":1},{"name":"META PLATFORMS INC CLASS A","ticker":"META","sector":"IT/í…Œí¬","final_score_sector":0.5203,"final_score":0.5188,"Y_score":36.5722,"Z_score_norm":0.6701,"weight":0.0182,"sec_signal":0.8601,"bulk":1},{"name":"NETFLIX INC","ticker":"NFLX","sector":"ë¯¸ë””ì–´/í†µì‹ ","final_score_sector":0.464,"final_score":0.4949,"Y_score":21.1872,"Z_score_norm":0.8968,"weight":0.006,"sec_signal":0.6414,"bulk":1},{"name":"TESLA INC","ticker":"TSLA","sector":"IT/í…Œí¬","final_score_sector":0.4218,"final_score":0.4205,"Y_score":31.0137,"Z_score_norm":0.5309,"weight":0.0125,"sec_signal":0.8601,"bulk":1},{"name":"ALPHABET INC CL A","ticker":"GOOGL","sector":"IT/í…Œí¬","final_score_sector":0.3998,"final_score":0.3987,"Y_score":23.9259,"Z_score_norm":0.6086,"weight":0.014,"sec_signal":0.8601,"bulk":0},{"name":"INTUITIVE SURGICAL INC","ticker":"ISRG","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.3895,"final_score":0.4541,"Y_score":17.8198,"Z_score_norm":0.8587,"weight":0.0039,"sec_signal":0.3738,"bulk":0},{"name":"VERTEX PHARMACEUTICALS INC","ticker":"VRTX","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.3794,"final_score":0.4424,"Y_score":8.6543,"Z_score_norm":1.0,"weight":0.0012,"sec_signal":0.3738,"bulk":0},{"name":"SALESFORCE INC","ticker":"CRM","sector":"IT/í…Œí¬","final_score_sector":0.3835,"final_score":0.3824,"Y_score":14.3525,"Z_score_norm":0.7462,"weight":0.0042,"sec_signal":0.8601,"bulk":0},{"name":"VISA INC CLASS A","ticker":"V","sector":"ê¸ˆìœµ","final_score_sector":0.359,"final_score":0.4301,"Y_score":14.948,"Z_score_norm":0.8529,"weight":0.0063,"sec_signal":0.2968,"bulk":0},{"name":"HCA HEALTHCARE INC","ticker":"HCA","sector":"í—¬ìŠ¤ì¼€ì–´","final_score_sector":0.3437,"final_score":0.4007,"Y_score":32.44,"Z_score_norm":0.4556,"weight":0.0034,"sec_signal":0.3738,"bulk":0},{"name":"EXXON MOBIL CORP","ticker":"XOM","sector":"ì—ë„ˆì§€","final_score_sector":0.3044,"final_score":0.3703,"Y_score":17.9617,"Z_score_norm":0.6494,"weight":0.0059,"sec_signal":0.2535,"bulk":0}]},"sector":{"2021":[{"sector":"IT/í…Œí¬","count":15,"avg_score":0.376},{"sector":"ê¸ˆìœµ","count":13,"avg_score":0.34},{"sector":"ê¸°íƒ€","count":21,"avg_score":0.351},{"sector":"ë¦¬ì¸ ","count":5,"avg_score":0.386},{"sector":"ë¯¸ë””ì–´/í†µì‹ ","count":3,"avg_score":0.262},{"sector":"ë°©ì‚°","count":3,"avg_score":0.464},{"sector":"ì‚°ì—…ì¬","count":4,"avg_score":0.332},{"sector":"ì†Œë¹„ì¬","count":8,"avg_score":0.333},{"sector":"ì—ë„ˆì§€","count":3,"avg_score":0.222},{"sector":"ì—¬í–‰/ë ˆì €","count":1,"avg_score":0.495},{"sector":"í—¬ìŠ¤ì¼€ì–´","count":21,"avg_score":0.473}],"2022":[{"sector":"IT/í…Œí¬","count":15,"avg_score":0.36},{"sector":"ê¸ˆìœµ","count":13,"avg_score":0.466},{"sector":"ê¸°íƒ€","count":22,"avg_score":0.397},{"sector":"ë¦¬ì¸ ","count":6,"avg_score":0.412},{"sector":"ë°©ì‚°","count":3,"avg_score":0.466},{"sector":"ì‚°ì—…ì¬","count":4,"avg_score":0.52},{"sector":"ì†Œë¹„ì¬","count":8,"avg_score":0.466},{"sector":"ì—ë„ˆì§€","count":3,"avg_score":0.73},{"sector":"ì—¬í–‰/ë ˆì €","count":1,"avg_score":0.734},{"sector":"í—¬ìŠ¤ì¼€ì–´","count":21,"avg_score":0.595}],"2023":[{"sector":"IT/í…Œí¬","count":16,"avg_score":0.403},{"sector":"ê¸ˆìœµ","count":13,"avg_score":0.172},{"sector":"ê¸°íƒ€","count":24,"avg_score":0.119},{"sector":"ë¦¬ì¸ ","count":6,"avg_score":0.158},{"sector":"ë¯¸ë””ì–´/í†µì‹ ","count":3,"avg_score":0.255},{"sector":"ì†Œë¹„ì¬","count":8,"avg_score":0.259},{"sector":"ì—ë„ˆì§€","count":3,"avg_score":0.19},{"sector":"ì—¬í–‰/ë ˆì €","count":1,"avg_score":0.374},{"sector":"ì „ë¬¸ì„œë¹„ìŠ¤","count":1,"avg_score":0.338},{"sector":"í—¬ìŠ¤ì¼€ì–´","count":21,"avg_score":0.204}],"2024":[{"sector":"IT/í…Œí¬","count":16,"avg_score":0.444},{"sector":"ê¸ˆìœµ","count":13,"avg_score":0.213},{"sector":"ê¸°íƒ€","count":23,"avg_score":0.173},{"sector":"ë¦¬ì¸ ","count":6,"avg_score":0.175},{"sector":"ë¯¸ë””ì–´/í†µì‹ ","count":3,"avg_score":0.333},{"sector":"ë°©ì‚°","count":4,"avg_score":0.179},{"sector":"ì‚°ì—…ì¬","count":3,"avg_score":0.17},{"sector":"ì†Œë¹„ì¬","count":8,"avg_score":0.249},{"sector":"ì—ë„ˆì§€","count":3,"avg_score":0.223},{"sector":"ì—¬í–‰/ë ˆì €","count":1,"avg_score":0.302},{"sector":"í—¬ìŠ¤ì¼€ì–´","count":21,"avg_score":0.254}]},"a_compare":[{"month":"2022-02","year":2022,"etf_return":7.41,"nps_monthly":null,"nps_cum_return":null,"benchmark_excess":null,"etf_vs_nps":null},{"month":"2022-03","year":2022,"etf_return":2.99,"nps_monthly":null,"nps_cum_return":null,"benchmark_excess":null,"etf_vs_nps":null},{"month":"2022-04","year":2022,"etf_return":-1.9,"nps_monthly":null,"nps_cum_return":null,"benchmark_excess":null,"etf_vs_nps":null},{"month":"2022-05","year":2022,"etf_return":0.37,"nps_monthly":null,"nps_cum_return":null,"benchmark_excess":null,"etf_vs_nps":null},{"month":"2022-06","year":2022,"etf_return":-12.27,"nps_monthly":-19.64,"nps_cum_return":-19.64,"benchmark_excess":-20.32,"etf_vs_nps":7.37},{"month":"2022-07","year":2022,"etf_return":3.52,"nps_monthly":5.26,"nps_cum_return":-15.41,"benchmark_excess":-16.09,"etf_vs_nps":-1.74},{"month":"2022-08","year":2022,"etf_return":-0.11,"nps_monthly":0.77,"nps_cum_return":-14.76,"benchmark_excess":-15.33,"etf_vs_nps":-0.88},{"month":"2022-09","year":2022,"etf_return":-16.65,"nps_monthly":-12.66,"nps_cum_return":-25.55,"benchmark_excess":-26.17,"etf_vs_nps":-3.99},{"month":"2022-10","year":2022,"etf_return":4.39,"nps_monthly":6.85,"nps_cum_return":-20.45,"benchmark_excess":-21.3,"etf_vs_nps":-2.46},{"month":"2022-11","year":2022,"etf_return":11.83,"nps_monthly":7.03,"nps_cum_return":-14.86,"benchmark_excess":-15.13,"etf_vs_nps":4.8},{"month":"2022-12","year":2022,"etf_return":-7.78,"nps_monthly":-9.27,"nps_cum_return":-22.75,"benchmark_excess":-23.22,"etf_vs_nps":1.49},{"month":"2023-01","year":2023,"etf_return":0.48,"nps_monthly":8.37,"nps_cum_return":8.37,"benchmark_excess":-0.38,"etf_vs_nps":-7.89},{"month":"2023-02","year":2023,"etf_return":0.07,"nps_monthly":0.78,"nps_cum_return":9.22,"benchmark_excess":-0.06,"etf_vs_nps":-0.71},{"month":"2023-03","year":2023,"etf_return":2.33,"nps_monthly":2.94,"nps_cum_return":12.43,"benchmark_excess":0.05,"etf_vs_nps":-0.61},{"month":"2023-04","year":2023,"etf_return":6.6,"nps_monthly":1.29,"nps_cum_return":13.88,"benchmark_excess":0.19,"etf_vs_nps":5.31},{"month":"2023-05","year":2023,"etf_return":-2.21,"nps_monthly":3.11,"nps_cum_return":17.42,"benchmark_excess":0.27,"etf_vs_nps":-5.32},{"month":"2023-06","year":2023,"etf_return":1.81,"nps_monthly":-0.25,"nps_cum_return":17.13,"benchmark_excess":0.55,"etf_vs_nps":2.06},{"month":"2023-07","year":2023,"etf_return":3.23,"nps_monthly":3.07,"nps_cum_return":20.73,"benchmark_excess":0.79,"etf_vs_nps":0.16},{"month":"2023-08","year":2023,"etf_return":-3.38,"nps_monthly":-2.91,"nps_cum_return":17.22,"benchmark_excess":0.7,"etf_vs_nps":-0.47},{"month":"2023-09","year":2023,"etf_return":-7.07,"nps_monthly":-3.37,"nps_cum_return":13.27,"benchmark_excess":0.9,"etf_vs_nps":-3.7},{"month":"2023-10","year":2023,"etf_return":-8.44,"nps_monthly":-7.19,"nps_cum_return":5.13,"benchmark_excess":0.58,"etf_vs_nps":-1.25},{"month":"2023-11","year":2023,"etf_return":11.61,"nps_monthly":10.72,"nps_cum_return":16.4,"benchmark_excess":0.56,"etf_vs_nps":0.89},{"month":"2023-12","year":2023,"etf_return":5.41,"nps_monthly":4.93,"nps_cum_return":22.14,"benchmark_excess":0.79,"etf_vs_nps":0.48},{"month":"2024-01","year":2024,"etf_return":-6.49,"nps_monthly":-5.95,"nps_cum_return":-5.95,"benchmark_excess":-0.07,"etf_vs_nps":-0.54},{"month":"2024-02","year":2024,"etf_return":3.92,"nps_monthly":6.76,"nps_cum_return":0.41,"benchmark_excess":0.01,"etf_vs_nps":-2.84},{"month":"2024-03","year":2024,"etf_return":15.31,"nps_monthly":5.18,"nps_cum_return":5.61,"benchmark_excess":0.8,"etf_vs_nps":10.13},{"month":"2024-04","year":2024,"etf_return":0.68,"nps_monthly":-1.72,"nps_cum_return":3.79,"benchmark_excess":0.95,"etf_vs_nps":2.4},{"month":"2024-05","year":2024,"etf_return":6.9,"nps_monthly":-1.44,"nps_cum_return":2.3,"benchmark_excess":1.45,"etf_vs_nps":8.34},{"month":"2024-06","year":2024,"etf_return":6.26,"nps_monthly":6.29,"nps_cum_return":8.73,"benchmark_excess":1.7,"etf_vs_nps":-0.03},{"month":"2024-07","year":2024,"etf_return":-5.78,"nps_monthly":-0.94,"nps_cum_return":7.71,"benchmark_excess":1.6,"etf_vs_nps":-4.84},{"month":"2024-08","year":2024,"etf_return":2.89,"nps_monthly":-3.62,"nps_cum_return":3.81,"benchmark_excess":1.23,"etf_vs_nps":6.51},{"month":"2024-09","year":2024,"etf_return":-1.84,"nps_monthly":-3.25,"nps_cum_return":0.44,"benchmark_excess":0.97,"etf_vs_nps":1.41},{"month":"2024-10","year":2024,"etf_return":-2.42,"nps_monthly":-1.33,"nps_cum_return":-0.9,"benchmark_excess":0.96,"etf_vs_nps":-1.09},{"month":"2024-11","year":2024,"etf_return":-10.78,"nps_monthly":-4.12,"nps_cum_return":-4.98,"benchmark_excess":0.6,"etf_vs_nps":-6.66},{"month":"2024-12","year":2024,"etf_return":9.58,"nps_monthly":-2.08,"nps_cum_return":-6.96,"benchmark_excess":0.75,"etf_vs_nps":11.66}],"r_model":[{"model":"RandomForest","name":"ì‚¼ì„±ì „ì","final_score":0.813,"pred_return":-2.4,"actual_return":-31.7,"pred_direction":"í•˜ë½","hit":true},{"model":"RandomForest","name":"ì´ìˆ˜í˜íƒ€ì‹œìŠ¤","final_score":0.595,"pred_return":102.4,"actual_return":-8.2,"pred_direction":"í•˜ë½","hit":true},{"model":"RandomForest","name":"ISC","final_score":0.576,"pred_return":98.5,"actual_return":-12.1,"pred_direction":"í•˜ë½","hit":true},{"model":"RandomForest","name":"ë‘ì‚°í“¨ì–¼ì…€1ìš°","final_score":0.522,"pred_return":6.7,"actual_return":-32.5,"pred_direction":"í•˜ë½","hit":true},{"model":"RandomForest","name":"ë‘ì‚°ìš°","final_score":0.472,"pred_return":-16.2,"actual_return":113.2,"pred_direction":"í•˜ë½","hit":false},{"model":"RandomForest","name":"LXì„¸ë¯¸ì½˜","final_score":0.447,"pred_return":15.1,"actual_return":-34.6,"pred_direction":"ìƒìŠ¹","hit":false},{"model":"RandomForest","name":"íŒŒë§ˆë¦¬ì„œì¹˜","final_score":0.405,"pred_return":-12.1,"actual_return":138.3,"pred_direction":"í•˜ë½","hit":false},{"model":"RandomForest","name":"LGì—ë„ˆì§€ì†”ë£¨ì…˜","final_score":0.398,"pred_return":-15.1,"actual_return":-19.0,"pred_direction":"í•˜ë½","hit":true},{"model":"RandomForest","name":"ì”¨ì•¤ì”¨ì¸í„°ë‚´ì…”ë„","final_score":0.385,"pred_return":50.5,"actual_return":-25.5,"pred_direction":"ìƒìŠ¹","hit":false},{"model":"RandomForest","name":"íš¨ì„±ì¤‘ê³µì—…","final_score":0.366,"pred_return":71.4,"actual_return":152.4,"pred_direction":"í•˜ë½","hit":false},{"model":"RandomForest","name":"í•œì˜¬ë°”ì´ì˜¤íŒŒë§ˆ","final_score":0.359,"pred_return":47.0,"actual_return":-10.5,"pred_direction":"í•˜ë½","hit":true},{"model":"RandomForest","name":"ê¸°ì•„","final_score":0.342,"pred_return":-10.2,"actual_return":7.9,"pred_direction":"í•˜ë½","hit":false},{"model":"RandomForest","name":"í•œë¯¸ë°˜ë„ì²´","final_score":0.336,"pred_return":97.4,"actual_return":36.3,"pred_direction":"í•˜ë½","hit":false},{"model":"RandomForest","name":"ì”¨ì—ìŠ¤ìœˆë“œ","final_score":0.325,"pred_return":-15.2,"actual_return":-39.2,"pred_direction":"í•˜ë½","hit":true},{"model":"RandomForest","name":"ìœ í•œì–‘í–‰","final_score":0.322,"pred_return":-15.5,"actual_return":77.0,"pred_direction":"í•˜ë½","hit":false},{"model":"RandomForest","name":"ì—ìŠ¤ì•¤ì—ìŠ¤í…","final_score":0.32,"pred_return":19.4,"actual_return":-44.6,"pred_direction":"ìƒìŠ¹","hit":false},{"model":"RandomForest","name":"ì†”ë£¨ì— ","final_score":0.312,"pred_return":73.5,"actual_return":-30.1,"pred_direction":"í•˜ë½","hit":true},{"model":"RandomForest","name":"í•œí™”ì˜¤ì…˜","final_score":0.308,"pred_return":-12.3,"actual_return":46.8,"pred_direction":"í•˜ë½","hit":false},{"model":"RandomForest","name":"ì¸í„°ë¡œì¡°","final_score":0.302,"pred_return":-15.3,"actual_return":-21.0,"pred_direction":"í•˜ë½","hit":true},{"model":"RandomForest","name":"ì‚¼ì–‘ì‹í’ˆ","final_score":0.29,"pred_return":-14.0,"actual_return":227.2,"pred_direction":"í•˜ë½","hit":false},{"model":"XGBoost","name":"ì‚¼ì„±ì „ì","final_score":0.813,"pred_return":20.4,"actual_return":-31.7,"pred_direction":"í•˜ë½","hit":true},{"model":"XGBoost","name":"ì´ìˆ˜í˜íƒ€ì‹œìŠ¤","final_score":0.595,"pred_return":-47.6,"actual_return":-8.2,"pred_direction":"í•˜ë½","hit":true},{"model":"XGBoost","name":"ISC","final_score":0.576,"pred_return":-12.0,"actual_return":-12.1,"pred_direction":"í•˜ë½","hit":true},{"model":"XGBoost","name":"ë‘ì‚°í“¨ì–¼ì…€1ìš°","final_score":0.522,"pred_return":-11.3,"actual_return":-32.5,"pred_direction":"í•˜ë½","hit":true},{"model":"XGBoost","name":"ë‘ì‚°ìš°","final_score":0.472,"pred_return":-1.8,"actual_return":113.2,"pred_direction":"í•˜ë½","hit":false},{"model":"XGBoost","name":"LXì„¸ë¯¸ì½˜","final_score":0.447,"pred_return":27.4,"actual_return":-34.6,"pred_direction":"ìƒìŠ¹","hit":false},{"model":"XGBoost","name":"íŒŒë§ˆë¦¬ì„œì¹˜","final_score":0.405,"pred_return":-0.4,"actual_return":138.3,"pred_direction":"í•˜ë½","hit":false},{"model":"XGBoost","name":"LGì—ë„ˆì§€ì†”ë£¨ì…˜","final_score":0.398,"pred_return":-26.3,"actual_return":-19.0,"pred_direction":"í•˜ë½","hit":true},{"model":"XGBoost","name":"ì”¨ì•¤ì”¨ì¸í„°ë‚´ì…”ë„","final_score":0.385,"pred_return":67.0,"actual_return":-25.5,"pred_direction":"ìƒìŠ¹","hit":false},{"model":"XGBoost","name":"íš¨ì„±ì¤‘ê³µì—…","final_score":0.366,"pred_return":-28.6,"actual_return":152.4,"pred_direction":"í•˜ë½","hit":false},{"model":"XGBoost","name":"í•œì˜¬ë°”ì´ì˜¤íŒŒë§ˆ","final_score":0.359,"pred_return":-16.0,"actual_return":-10.5,"pred_direction":"í•˜ë½","hit":true},{"model":"XGBoost","name":"ê¸°ì•„","final_score":0.342,"pred_return":13.6,"actual_return":7.9,"pred_direction":"í•˜ë½","hit":false},{"model":"XGBoost","name":"í•œë¯¸ë°˜ë„ì²´","final_score":0.336,"pred_return":15.1,"actual_return":36.3,"pred_direction":"í•˜ë½","hit":false},{"model":"XGBoost","name":"ì”¨ì—ìŠ¤ìœˆë“œ","final_score":0.325,"pred_return":-39.8,"actual_return":-39.2,"pred_direction":"í•˜ë½","hit":true},{"model":"XGBoost","name":"ìœ í•œì–‘í–‰","final_score":0.322,"pred_return":-22.3,"actual_return":77.0,"pred_direction":"í•˜ë½","hit":false},{"model":"XGBoost","name":"ì—ìŠ¤ì•¤ì—ìŠ¤í…","final_score":0.32,"pred_return":-34.3,"actual_return":-44.6,"pred_direction":"ìƒìŠ¹","hit":false},{"model":"XGBoost","name":"ì†”ë£¨ì— ","final_score":0.312,"pred_return":55.5,"actual_return":-30.1,"pred_direction":"í•˜ë½","hit":true},{"model":"XGBoost","name":"í•œí™”ì˜¤ì…˜","final_score":0.308,"pred_return":-31.7,"actual_return":46.8,"pred_direction":"í•˜ë½","hit":false},{"model":"XGBoost","name":"ì¸í„°ë¡œì¡°","final_score":0.302,"pred_return":32.1,"actual_return":-21.0,"pred_direction":"í•˜ë½","hit":true},{"model":"XGBoost","name":"ì‚¼ì–‘ì‹í’ˆ","final_score":0.29,"pred_return":-33.3,"actual_return":227.2,"pred_direction":"í•˜ë½","hit":false},{"model":"LightGBM","name":"ì‚¼ì„±ì „ì","final_score":0.813,"pred_return":16.3,"actual_return":-31.7,"pred_direction":"í•˜ë½","hit":true},{"model":"LightGBM","name":"ì´ìˆ˜í˜íƒ€ì‹œìŠ¤","final_score":0.595,"pred_return":-15.1,"actual_return":-8.2,"pred_direction":"ìƒìŠ¹","hit":false},{"model":"LightGBM","name":"ISC","final_score":0.576,"pred_return":-16.9,"actual_return":-12.1,"pred_direction":"í•˜ë½","hit":true},{"model":"LightGBM","name":"ë‘ì‚°í“¨ì–¼ì…€1ìš°","final_score":0.522,"pred_return":-0.3,"actual_return":-32.5,"pred_direction":"ìƒìŠ¹","hit":false},{"model":"LightGBM","name":"ë‘ì‚°ìš°","final_score":0.472,"pred_return":7.2,"actual_return":113.2,"pred_direction":"í•˜ë½","hit":false},{"model":"LightGBM","name":"LXì„¸ë¯¸ì½˜","final_score":0.447,"pred_return":56.5,"actual_return":-34.6,"pred_direction":"ìƒìŠ¹","hit":false},{"model":"LightGBM","name":"íŒŒë§ˆë¦¬ì„œì¹˜","final_score":0.405,"pred_return":-6.1,"actual_return":138.3,"pred_direction":"í•˜ë½","hit":false},{"model":"LightGBM","name":"LGì—ë„ˆì§€ì†”ë£¨ì…˜","final_score":0.398,"pred_return":-41.2,"actual_return":-19.0,"pred_direction":"í•˜ë½","hit":true},{"model":"LightGBM","name":"ì”¨ì•¤ì”¨ì¸í„°ë‚´ì…”ë„","final_score":0.385,"pred_return":52.8,"actual_return":-25.5,"pred_direction":"ìƒìŠ¹","hit":false},{"model":"LightGBM","name":"íš¨ì„±ì¤‘ê³µì—…","final_score":0.366,"pred_return":21.6,"actual_return":152.4,"pred_direction":"ìƒìŠ¹","hit":true},{"model":"LightGBM","name":"í•œì˜¬ë°”ì´ì˜¤íŒŒë§ˆ","final_score":0.359,"pred_return":-26.2,"actual_return":-10.5,"pred_direction":"í•˜ë½","hit":true},{"model":"LightGBM","name":"ê¸°ì•„","final_score":0.342,"pred_return":-25.6,"actual_return":7.9,"pred_direction":"í•˜ë½","hit":false},{"model":"LightGBM","name":"í•œë¯¸ë°˜ë„ì²´","final_score":0.336,"pred_return":-13.2,"actual_return":36.3,"pred_direction":"í•˜ë½","hit":false},{"model":"LightGBM","name":"ì”¨ì—ìŠ¤ìœˆë“œ","final_score":0.325,"pred_return":-23.2,"actual_return":-39.2,"pred_direction":"í•˜ë½","hit":true},{"model":"LightGBM","name":"ìœ í•œì–‘í–‰","final_score":0.322,"pred_return":-33.3,"actual_return":77.0,"pred_direction":"í•˜ë½","hit":false},{"model":"LightGBM","name":"ì—ìŠ¤ì•¤ì—ìŠ¤í…","final_score":0.32,"pred_return":-4.0,"actual_return":-44.6,"pred_direction":"í•˜ë½","hit":true},{"model":"LightGBM","name":"ì†”ë£¨ì— ","final_score":0.312,"pred_return":-23.5,"actual_return":-30.1,"pred_direction":"í•˜ë½","hit":true},{"model":"LightGBM","name":"í•œí™”ì˜¤ì…˜","final_score":0.308,"pred_return":-26.4,"actual_return":46.8,"pred_direction":"í•˜ë½","hit":false},{"model":"LightGBM","name":"ì¸í„°ë¡œì¡°","final_score":0.302,"pred_return":-8.8,"actual_return":-21.0,"pred_direction":"í•˜ë½","hit":true},{"model":"LightGBM","name":"ì‚¼ì–‘ì‹í’ˆ","final_score":0.29,"pred_return":-19.7,"actual_return":227.2,"pred_direction":"í•˜ë½","hit":false},{"model":"SVM","name":"ì‚¼ì„±ì „ì","final_score":0.813,"pred_return":-15.2,"actual_return":-31.7,"pred_direction":"í•˜ë½","hit":true},{"model":"SVM","name":"ì´ìˆ˜í˜íƒ€ì‹œìŠ¤","final_score":0.595,"pred_return":-15.9,"actual_return":-8.2,"pred_direction":"í•˜ë½","hit":true},{"model":"SVM","name":"ISC","final_score":0.576,"pred_return":-16.3,"actual_return":-12.1,"pred_direction":"í•˜ë½","hit":true},{"model":"SVM","name":"ë‘ì‚°í“¨ì–¼ì…€1ìš°","final_score":0.522,"pred_return":-15.9,"actual_return":-32.5,"pred_direction":"í•˜ë½","hit":true},{"model":"SVM","name":"ë‘ì‚°ìš°","final_score":0.472,"pred_return":-15.6,"actual_return":113.2,"pred_direction":"í•˜ë½","hit":false},{"model":"SVM","name":"LXì„¸ë¯¸ì½˜","final_score":0.447,"pred_return":-13.5,"actual_return":-34.6,"pred_direction":"ìƒìŠ¹","hit":false},{"model":"SVM","name":"íŒŒë§ˆë¦¬ì„œì¹˜","final_score":0.405,"pred_return":-14.1,"actual_return":138.3,"pred_direction":"í•˜ë½","hit":false},{"model":"SVM","name":"LGì—ë„ˆì§€ì†”ë£¨ì…˜","final_score":0.398,"pred_return":-14.7,"actual_return":-19.0,"pred_direction":"í•˜ë½","hit":true},{"model":"SVM","name":"ì”¨ì•¤ì”¨ì¸í„°ë‚´ì…”ë„","final_score":0.385,"pred_return":-13.2,"actual_return":-25.5,"pred_direction":"ìƒìŠ¹","hit":false},{"model":"SVM","name":"íš¨ì„±ì¤‘ê³µì—…","final_score":0.366,"pred_return":-14.6,"actual_return":152.4,"pred_direction":"í•˜ë½","hit":false},{"model":"SVM","name":"í•œì˜¬ë°”ì´ì˜¤íŒŒë§ˆ","final_score":0.359,"pred_return":-16.9,"actual_return":-10.5,"pred_direction":"í•˜ë½","hit":true},{"model":"SVM","name":"ê¸°ì•„","final_score":0.342,"pred_return":-15.5,"actual_return":7.9,"pred_direction":"í•˜ë½","hit":false},{"model":"SVM","name":"í•œë¯¸ë°˜ë„ì²´","final_score":0.336,"pred_return":-16.7,"actual_return":36.3,"pred_direction":"í•˜ë½","hit":false},{"model":"SVM","name":"ì”¨ì—ìŠ¤ìœˆë“œ","final_score":0.325,"pred_return":-14.1,"actual_return":-39.2,"pred_direction":"í•˜ë½","hit":true},{"model":"SVM","name":"ìœ í•œì–‘í–‰","final_score":0.322,"pred_return":-12.1,"actual_return":77.0,"pred_direction":"í•˜ë½","hit":false},{"model":"SVM","name":"ì—ìŠ¤ì•¤ì—ìŠ¤í…","final_score":0.32,"pred_return":-12.2,"actual_return":-44.6,"pred_direction":"ìƒìŠ¹","hit":false},{"model":"SVM","name":"ì†”ë£¨ì— ","final_score":0.312,"pred_return":-11.3,"actual_return":-30.1,"pred_direction":"í•˜ë½","hit":true},{"model":"SVM","name":"í•œí™”ì˜¤ì…˜","final_score":0.308,"pred_return":-14.0,"actual_return":46.8,"pred_direction":"í•˜ë½","hit":false},{"model":"SVM","name":"ì¸í„°ë¡œì¡°","final_score":0.302,"pred_return":-11.4,"actual_return":-21.0,"pred_direction":"í•˜ë½","hit":true},{"model":"SVM","name":"ì‚¼ì–‘ì‹í’ˆ","final_score":0.29,"pred_return":-14.8,"actual_return":227.2,"pred_direction":"í•˜ë½","hit":false}],"r_summary":{"RandomForest":{"hits":9,"total":20,"rate":0.45},"XGBoost":{"hits":9,"total":20,"rate":0.45},"LightGBM":{"hits":9,"total":20,"rate":0.45},"SVM":{"hits":9,"total":20,"rate":0.45}},"backtest":{"5":{"2022":{"portfolio":-25.37,"count":5},"2023":{"portfolio":32.55,"count":4},"2024":{"portfolio":-40.03,"count":5}},"10":{"2022":{"portfolio":-29.51,"count":10},"2023":{"portfolio":23.57,"count":9},"2024":{"portfolio":-16.13,"count":10}},"20":{"2022":{"portfolio":-30.71,"count":20},"2023":{"portfolio":39.53,"count":18},"2024":{"portfolio":-16.59,"count":20}},"30":{"2022":{"portfolio":-26.29,"count":30},"2023":{"portfolio":23.99,"count":27},"2024":{"portfolio":-14.84,"count":30}}},"kospi":{"2022":-24.89,"2023":18.73,"2024":-9.63}};

// â”€â”€ CHART DEFAULTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Chart.defaults.color = '#7a92b0';
Chart.defaults.borderColor = 'rgba(0,200,255,0.07)';
Chart.defaults.font.family = "'Noto Sans KR', sans-serif";
const CHARTS = {};
function mkChart(id, cfg) {
  if (CHARTS[id]) { CHARTS[id].destroy(); }
  const el = document.getElementById(id);
  if (!el) return;
  CHARTS[id] = new Chart(el, cfg);
  return CHARTS[id];
}
const C = { cyan:'#00d4ff', violet:'#8b5cf6', amber:'#f59e0b', green:'#10b981', red:'#f43f5e', rose:'#fb7185' };
function ca(hex,a=0.2){const r=parseInt(hex.slice(1,3),16),g=parseInt(hex.slice(3,5),16),b=parseInt(hex.slice(5,7),16);return`rgba(${r},${g},${b},${a})`;}
const PALETTE=[C.cyan,C.violet,C.amber,C.green,C.red,C.rose,'#60a5fa','#34d399','#fbbf24','#a78bfa','#f87171','#38bdf8','#4ade80','#facc15','#c084fc'];

// â”€â”€ HELPERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const p2=(n,d=2)=>n==null||isNaN(n)?'â€”':(+n).toFixed(d);
const pct=(n)=>n==null||isNaN(n)?'â€”':`${n>0?'+':''}${p2(n)}%`;
const clr=(n)=>n==null||isNaN(n)?'':'class="'+(n>0?'pos':'neg')+'"';
const rank=(i)=>{if(i===0)return'<span class="rank rank-1">1</span>';if(i===1)return'<span class="rank rank-2">2</span>';if(i===2)return'<span class="rank rank-3">3</span>';return`<span class="rank rank-n">${i+1}</span>`;}
const bar=(v,max=1)=>`<div class="score-cell"><div class="score-track"><div class="score-fill" style="width:${Math.min(100,v/max*100)}%"></div></div><span class="score-num">${p2(v,3)}</span></div>`;
const secTag=(s)=>{const m={'IT/í…Œí¬':'sec-it','í—¬ìŠ¤ì¼€ì–´':'sec-health','ì—ë„ˆì§€':'sec-energy','ê¸ˆìœµ':'sec-finance','ë°©ì‚°':'sec-defense','ì†Œë¹„ì¬':'sec-consumer'};return`<span class="tag ${m[s]||'sec-other'}">${s}</span>`;}

// â”€â”€ NAVIGATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function goto(id) {
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.nav-item,.mobile-nav-item').forEach(b=>b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  const idx={'p-dash':0,'p-domestic':1,'p-foreign':2,'p-date':3,'p-sim':4,'p-model':5,'p-accuracy':6}[id]??0;
  document.querySelectorAll('.nav-item')[idx]?.classList.add('active');
  document.querySelectorAll('.mobile-nav-item')[idx]?.classList.add('active');
  RENDER[id]?.();
}
const RENDER = {
  'p-dash':  renderDash,
  'p-domestic': renderDomestic,
  'p-foreign': renderForeign,
  'p-date': runDateForecast,
  'p-sim': renderSim,
  'p-model': renderModel,
  'p-accuracy': renderAccuracy
};

// â”€â”€ PAGE: DASHBOARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderDash() {
  const bt = D.backtest;
  const top24 = D.domestic['2024'].slice(0,10);
  // KPI cards
  const kpis = [
    {label:'êµ­ë‚´ ì¢…ëª© ìˆ˜ (2021-2024)', val:'4,905', cap:'ì „ì²´ ë¶„ì„ ëŒ€ìƒ', color:C.cyan},
    {label:'Y:Z ë¹„ìœ¨', val:'99:1', cap:'ìµœì  ê·¸ë¦¬ë“œì„œì¹˜ ê²°ê³¼', color:C.violet},
    {label:'2024 Top 1 êµ­ë‚´', val:'ì¼ì§„ì „ê¸°', cap:'+156.5% ìˆ˜ìµë¥ ', color:C.amber},
    {label:'2023 ì´ˆê³¼ìˆ˜ìµ (Top20)', val:'+20.8%p', cap:'vs KOSPI +18.73%', color:C.green},
  ];
  document.getElementById('dash-kpi').innerHTML = kpis.map(k=>`
    <div class="card card-cyan">
      <div class="card-head"><div class="card-head-bar" style="background:${k.color}"></div><span class="card-head-label">${k.label}</span></div>
      <div class="stat-val grad-text">${k.val}</div>
      <div class="stat-caption">${k.cap}</div>
    </div>`).join('');

  // Perf chart
  mkChart('c-dash-perf',{type:'bar',data:{labels:['2022','2023','2024'],datasets:[
    {label:'Top5',data:[bt[5][2022].portfolio,bt[5][2023].portfolio,bt[5][2024].portfolio],backgroundColor:ca(C.cyan),borderColor:C.cyan,borderWidth:1.5,borderRadius:4},
    {label:'Top10',data:[bt[10][2022].portfolio,bt[10][2023].portfolio,bt[10][2024].portfolio],backgroundColor:ca(C.violet),borderColor:C.violet,borderWidth:1.5,borderRadius:4},
    {label:'Top20',data:[bt[20][2022].portfolio,bt[20][2023].portfolio,bt[20][2024].portfolio],backgroundColor:ca(C.amber),borderColor:C.amber,borderWidth:1.5,borderRadius:4},
    {label:'KOSPI',data:[D.kospi[2022],D.kospi[2023],D.kospi[2024]],type:'line',borderColor:C.green,borderWidth:2,pointBackgroundColor:C.green,fill:false,tension:0.3},
  ]},options:{plugins:{legend:{labels:{boxWidth:10,font:{size:11}}}},scales:{y:{grid:{color:'rgba(0,200,255,0.05)'},ticks:{callback:v=>v+'%'}}}}});

  // Top10 returns
  mkChart('c-dash-top10',{type:'bar',data:{labels:top24.map(s=>s.name),datasets:[{
    label:'2024 ìˆ˜ìµë¥ ',data:top24.map(s=>s['ì—°ê°„ìˆ˜ìµë¥ (r_t)']),
    backgroundColor:top24.map(s=>ca(s['ì—°ê°„ìˆ˜ìµë¥ (r_t)']>=0?C.green:C.red)),
    borderColor:top24.map(s=>s['ì—°ê°„ìˆ˜ìµë¥ (r_t)']>=0?C.green:C.red),
    borderWidth:1.5,borderRadius:4
  }]},options:{indexAxis:'y',plugins:{legend:{display:false}},scales:{x:{ticks:{callback:v=>v+'%'},grid:{color:'rgba(0,200,255,0.05)'}},y:{ticks:{font:{size:10}}}}}});

  // Top5 tables
  const years=['2021','2022','2023','2024'];
  document.getElementById('dash-top5-dom').innerHTML = years.map(yr=>`
    <div style="margin-bottom:12px">
      <div style="font-size:11px;color:var(--t-lo);margin-bottom:6px;font-family:'JetBrains Mono',monospace">${yr}ë…„</div>
      ${D.domestic[yr].slice(0,5).map((s,i)=>`
        <div style="display:flex;align-items:center;gap:8px;padding:5px 0;border-bottom:1px solid var(--border)">
          ${rank(i)}
          <span style="flex:1;font-size:12px;font-weight:600">${s.name}</span>
          <span class="tag tag-actual" style="font-size:10px">${pct(s['ì—°ê°„ìˆ˜ìµë¥ (r_t)'])}</span>
        </div>`).join('')}
    </div>`).join('');

  document.getElementById('dash-top5-fgn').innerHTML = years.map(yr=>`
    <div style="margin-bottom:12px">
      <div style="font-size:11px;color:var(--t-lo);margin-bottom:6px;font-family:'JetBrains Mono',monospace">${yr}ë…„</div>
      ${D.foreign[yr].slice(0,5).map((s,i)=>`
        <div style="display:flex;align-items:center;gap:8px;padding:5px 0;border-bottom:1px solid var(--border)">
          ${rank(i)}
          <span style="flex:1;font-size:12px;font-weight:600">${s.name.split(' ')[0]}</span>
          <span class="tag" style="font-size:10px;background:rgba(99,102,241,0.15);color:#818cf8">${s.ticker}</span>
          ${secTag(s.sector)}
        </div>`).join('')}
    </div>`).join('');
}

// â”€â”€ PAGE: DOMESTIC â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderDomestic() {
  const yr = document.getElementById('dom-year').value;
  const n  = +document.getElementById('dom-n').value;
  const sortBy = document.getElementById('dom-sort').value;
  let rows = [...D.domestic[yr]];
  if (sortBy==='return') rows.sort((a,b)=>(b['ì—°ê°„ìˆ˜ìµë¥ (r_t)']??-999)-(a['ì—°ê°„ìˆ˜ìµë¥ (r_t)']??-999));
  else if (sortBy==='weight') rows.sort((a,b)=>b.weight-a.weight);
  else if (sortBy==='Y_score') rows.sort((a,b)=>b.Y_score-a.Y_score);
  else if (sortBy==='Z_score_norm') rows.sort((a,b)=>b.Z_score_norm-a.Z_score_norm);
  rows = rows.slice(0,n);
  document.getElementById('dom-tbl-title').textContent = `${yr}ë…„ Top ${n} ì¢…ëª© ìƒì„¸`;

  // Score distribution chart
  const bins = [0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1.0];
  const counts = new Array(bins.length).fill(0);
  D.domestic[yr].forEach(s=>{const bi=bins.findIndex(b=>s.final_score<=b);if(bi>=0)counts[bi]++;});
  mkChart('c-dom-dist',{type:'bar',data:{labels:bins.map(b=>`â‰¤${b.toFixed(1)}`),datasets:[{label:'ì¢…ëª©ìˆ˜',data:counts,backgroundColor:ca(C.cyan,0.3),borderColor:C.cyan,borderWidth:1.5,borderRadius:4}]},options:{plugins:{legend:{display:false}},scales:{y:{grid:{color:'rgba(0,200,255,0.05)'},beginAtZero:true},x:{ticks:{font:{size:10}}}}}});

  // Scatter Y vs Z
  mkChart('c-dom-scatter',{type:'scatter',data:{datasets:[{label:yr+'ë…„ ì¢…ëª©',data:D.domestic[yr].slice(0,30).map(s=>({x:s.Y_score,y:s.Z_score_norm,name:s.name})),backgroundColor:ca(C.violet,0.5),borderColor:C.violet,pointRadius:5}]},options:{plugins:{tooltip:{callbacks:{label:ctx=>`${ctx.raw.name}: Y=${p2(ctx.raw.x)} Z=${p2(ctx.raw.y)}`}},legend:{display:false}},scales:{x:{title:{display:true,text:'Y-Score'},grid:{color:'rgba(0,200,255,0.05)'}},y:{title:{display:true,text:'Z-Score'},grid:{color:'rgba(0,200,255,0.05)'}}}}});

  // Table
  document.getElementById('tbody-domestic').innerHTML = rows.map((s,i)=>`<tr>
    <td>${rank(i)}</td>
    <td class="td-name">${s.name}</td>
    <td class="td-mono td-dim">${s.ticker}</td>
    <td>${bar(s.final_score)}</td>
    <td class="td-mono">${p2(s.Y_score,3)}</td>
    <td class="td-mono">${p2(s.Z_score_norm,3)}</td>
    <td class="td-mono">${p2(s.weight,2)}%</td>
    <td ${clr(s['ì—°ê°„ìˆ˜ìµë¥ (r_t)'])} class="td-mono">${pct(s['ì—°ê°„ìˆ˜ìµë¥ (r_t)'])}</td>
    <td ${clr(s['3ê°œì›”ëª¨ë©˜í…€(mom_3m)'])} class="td-mono">${pct(s['3ê°œì›”ëª¨ë©˜í…€(mom_3m)'])}</td>
    <td class="td-mono">${p2(s['ì—°ê°„ë³€ë™ì„±(vol_t)'],1)}%</td>
    <td class="td-mono">${p2(s.dart_score,2)}</td>
  </tr>`).join('');
}

// â”€â”€ PAGE: FOREIGN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderForeign() {
  const yr = document.getElementById('fgn-year').value;
  const n  = +document.getElementById('fgn-n').value;
  const sec = document.getElementById('fgn-sector').value;
  let rows = [...D.foreign[yr]];
  if (sec!=='all') rows = rows.filter(r=>r.sector===sec);
  rows = rows.sort((a,b)=>b.final_score_sector-a.final_score_sector).slice(0,n);
  document.getElementById('fgn-tbl-title').textContent = `${yr}ë…„ Top ${n} í•´ì™¸ì£¼ì‹${sec!=='all'?' ('+sec+')':''}`;

  // Sector bar
  const sd = D.sector[yr];
  mkChart('c-fgn-sector',{type:'bar',data:{labels:sd.map(s=>s.sector),datasets:[{label:'í‰ê·  ìŠ¤ì½”ì–´',data:sd.map(s=>s.avg_score),backgroundColor:PALETTE.slice(0,sd.length).map(c=>ca(c,0.4)),borderColor:PALETTE.slice(0,sd.length),borderWidth:1.5,borderRadius:4}]},options:{indexAxis:'y',plugins:{legend:{display:false}},scales:{x:{grid:{color:'rgba(0,200,255,0.05)'},max:1},y:{ticks:{font:{size:10}}}}}});

  // Sector pie
  mkChart('c-fgn-pie',{type:'doughnut',data:{labels:sd.map(s=>s.sector),datasets:[{data:sd.map(s=>s.count),backgroundColor:PALETTE.slice(0,sd.length).map(c=>ca(c,0.5)),borderColor:PALETTE.slice(0,sd.length),borderWidth:1.5}]},options:{plugins:{legend:{position:'right',labels:{boxWidth:10,font:{size:10}}}},cutout:'60%'}});

  // Sector trend across years
  const allSectors=[...new Set(Object.values(D.sector).flatMap(y=>y.map(s=>s.sector)))];
  const trendDatasets = allSectors.slice(0,6).map((sec,i)=>({
    label:sec, data:['2021','2022','2023','2024'].map(y=>{const f=D.sector[y].find(s=>s.sector===sec);return f?f.avg_score:0;}),
    borderColor:PALETTE[i],backgroundColor:'transparent',tension:0.3,borderWidth:2,pointRadius:4
  }));
  mkChart('c-fgn-trend',{type:'line',data:{labels:['2021','2022','2023','2024'],datasets:trendDatasets},options:{plugins:{legend:{labels:{boxWidth:10,font:{size:10}}}},scales:{y:{grid:{color:'rgba(0,200,255,0.05)'},title:{display:true,text:'í‰ê·  ì„¹í„° ìŠ¤ì½”ì–´'}},x:{grid:{color:'rgba(0,200,255,0.05)'}}}}});

  // Table
  document.getElementById('tbody-foreign').innerHTML = rows.map((s,i)=>`<tr>
    <td>${rank(i)}</td>
    <td class="td-name" style="font-size:11px">${s.name}</td>
    <td class="td-mono" style="color:var(--rose)">${s.ticker}</td>
    <td>${secTag(s.sector)}</td>
    <td>${bar(s.final_score_sector)}</td>
    <td class="td-mono">${p2(s.Y_score,1)}</td>
    <td class="td-mono">${p2(s.Z_score_norm,3)}</td>
    <td class="td-mono">${(s.weight*100).toFixed(2)}%</td>
    <td class="td-mono">${p2(s.sec_signal,3)}</td>
    <td>${s.bulk?'<span class="tag tag-hot">BULK</span>':'<span class="td-dim">â€”</span>'}</td>
  </tr>`).join('');
}

// â”€â”€ PAGE: DATE PREDICTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Forecast engine: uses 2024 scores + momentum + seasonal factors
function generateForecast(stock, fromDate, toDate, market) {
  const days = Math.max(1, (new Date(toDate)-new Date(fromDate))/(1000*86400));
  const annFactor = days/365;
  const score = market==='foreign' ? stock.final_score_sector : stock.final_score;
  const mom = stock['3ê°œì›”ëª¨ë©˜í…€(mom_3m)'] || stock.sec_signal*20 || 0;
  const yr = new Date(fromDate).getFullYear();

  // Seasonal adjustment by month
  const fromMonth = new Date(fromDate).getMonth()+1;
  const seasonal = {1:1.02,2:0.98,3:1.05,4:1.01,5:0.97,6:1.03,7:0.99,8:0.96,9:1.04,10:0.98,11:1.06,12:1.01}[fromMonth]||1;

  // Score-based base return
  const baseReturn = (score * 50 + mom * 0.2) * annFactor * seasonal;

  // Uncertainty band (wider for 2026)
  const uncert = yr>=2026 ? 25 : 15;
  const rng = (Math.sin(stock.Y_score||score*100)*17+Math.cos(days)) * uncert/30;
  const simReturn = baseReturn + rng;

  // Confidence: higher score = higher confidence
  const conf = Math.min(95, Math.max(35, score * 70 + (yr<2026?15:0)));
  const direction = simReturn > 0 ? 'ìƒìŠ¹' : 'í•˜ë½';

  return { baseReturn: Math.round(baseReturn*10)/10, simReturn: Math.round(simReturn*10)/10, direction, conf };
}

function runDateForecast() {
  const fromDate = document.getElementById('date-from').value;
  const toDate   = document.getElementById('date-to').value;
  const market   = document.getElementById('date-market').value;
  const topN     = +document.getElementById('date-topn').value;
  if (!fromDate || !toDate) return;

  const yr = String(new Date(fromDate).getFullYear());
  const srcYr = Math.min(2024, Math.max(2021, +yr-1));
  const stocks = market==='foreign'
    ? D.foreign[String(srcYr)].slice(0,topN)
    : D.domestic[String(srcYr)].slice(0,topN);

  const forecasts = stocks.map(s=>({...s, ...generateForecast(s, fromDate, toDate, market)}));
  const avgRet = forecasts.reduce((a,b)=>a+b.simReturn,0)/forecasts.length;
  const winners = forecasts.filter(f=>f.simReturn>0).length;

  // Result card
  const cls = avgRet>0?'profit':avgRet<0?'loss':'neutral';
  document.getElementById('date-result-card').className = `card result-panel ${cls}`;
  document.getElementById('date-result-body').innerHTML = `
    <div class="result-big ${cls}">${avgRet>0?'+':''}${p2(avgRet)}%</div>
    <div style="font-size:11px;color:var(--t-mid);margin-top:4px">ì˜ˆì¸¡ í‰ê·  ìˆ˜ìµë¥  (${fromDate} â†’ ${toDate})</div>
    <div class="result-meta">
      <div class="result-meta-item"><label>ì¢…ëª© ìˆ˜</label><div class="val">${forecasts.length}ê°œ</div></div>
      <div class="result-meta-item"><label>ìŠ¹ë¥  ì˜ˆì¸¡</label><div class="val">${winners}/${forecasts.length}</div></div>
      <div class="result-meta-item"><label>ê¸°ì¤€ ë°ì´í„°</label><div class="val">${srcYr}ë…„</div></div>
      <div class="result-meta-item"><label>ì‹œì¥</label><div class="val">${market==='foreign'?'ğŸ‡ºğŸ‡¸ ë¯¸êµ­':'ğŸ‡°ğŸ‡· êµ­ë‚´'}</div></div>
    </div>`;

  // Bar chart
  mkChart('c-date-bar',{type:'bar',data:{labels:forecasts.map(f=>market==='foreign'?f.ticker:f.name),datasets:[{label:'ì˜ˆì¸¡ ìˆ˜ìµë¥ (%)',data:forecasts.map(f=>f.simReturn),backgroundColor:forecasts.map(f=>ca(f.simReturn>=0?C.green:C.red,0.5)),borderColor:forecasts.map(f=>f.simReturn>=0?C.green:C.red),borderWidth:1.5,borderRadius:4}]},options:{plugins:{legend:{display:false}},scales:{y:{ticks:{callback:v=>v+'%'},grid:{color:'rgba(0,200,255,0.05)'}},x:{ticks:{font:{size:9}}}}}});

  // Date mode tag
  const isForecast = +yr >= 2025;
  document.getElementById('date-mode-tag').className = `tag ${isForecast?'tag-forecast':'tag-actual'}`;
  document.getElementById('date-mode-tag').textContent = isForecast ? 'ì˜ˆì¸¡ (ëª¨ë¸ ì¶”ì •)' : 'ì‹¤ì œ ë°ì´í„°';

  // Table
  document.getElementById('tbody-date').innerHTML = forecasts.map((f,i)=>{
    const sig = f.simReturn>30?'ğŸ”´ ê°•ë§¤ìˆ˜':f.simReturn>10?'ğŸŸ  ë§¤ìˆ˜':f.simReturn>0?'ğŸŸ¡ ê´€ì‹¬':'âšª ê´€ë§';
    return `<tr>
      <td>${rank(i)}</td>
      <td class="td-name">${market==='foreign'?f.name.split(' ')[0]:f.name}</td>
      <td class="td-mono" style="color:var(--rose)">${f.ticker}</td>
      <td>${bar(market==='foreign'?f.final_score_sector:f.final_score)}</td>
      <td ${clr(f.baseReturn)} class="td-mono">${pct(f.baseReturn)}</td>
      <td><span class="tag ${f.direction==='ìƒìŠ¹'?'tag-actual':'tag-forecast'}">${f.direction}</span></td>
      <td ${clr(f.simReturn)} class="td-mono" style="font-weight:700">${pct(f.simReturn)}</td>
      <td class="td-mono">${p2(f.conf,0)}%</td>
      <td>${sig}</td>
    </tr>`;
  }).join('');

  // Timeline
  const from = new Date(fromDate), to = new Date(toDate);
  const months = [];
  let cur = new Date(from);
  while (cur <= to) {
    months.push(new Date(cur));
    cur.setMonth(cur.getMonth()+1);
  }
  document.getElementById('date-timeline').innerHTML = months.slice(0,12).map(m=>{
    const mStr = `${m.getFullYear()}ë…„ ${m.getMonth()+1}ì›”`;
    const dayStr = `${m.getFullYear()}-${String(m.getMonth()+1).padStart(2,'0')}-01`;
    const topPick = forecasts[0];
    const mRet = topPick.simReturn * (1/Math.max(1,months.length));
    const type = isForecast?'forecast':'actual';
    return `<div class="timeline-item ${type}">
      <div class="timeline-date">${mStr}</div>
      <div class="timeline-content">
        <div style="font-size:12px;font-weight:600;margin-bottom:4px">${mStr} ì˜ˆì¸¡</div>
        <div style="font-size:11px;color:var(--t-mid)">TOP ì¶”ì²œ: <strong style="color:var(--cyan)">${market==='foreign'?topPick.ticker:topPick.name}</strong> Â· ì›”ê°„ ì˜ˆìƒ ${mRet>0?'+':''}${p2(mRet)}%</div>
        <div style="font-size:10px;color:var(--t-lo);margin-top:2px">${type==='forecast'?'âš ï¸ ëª¨ë¸ ì˜ˆì¸¡ê°’ (ì‹¤ì œì™€ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ)':'âœ… ì‹¤ì œ ë°ì´í„° ê¸°ë°˜'}</div>
      </div>
    </div>`;
  }).join('');
}

// â”€â”€ PAGE: SIMULATOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderSim() {
  const sel = document.getElementById('sim-year').value;
  const amt = +document.getElementById('sim-amt').value;
  const n   = +document.getElementById('sim-n').value;
  const wt  = document.getElementById('sim-weight').value;
  const mkt = document.getElementById('sim-market').value;

  const [fromYr, toYr] = sel.split('to').map(Number);
  const isForecast = toYr >= 2025;
  const srcYr = String(Math.min(2024, fromYr));
  const stocks = (mkt==='foreign' ? D.foreign[srcYr] : D.domestic[srcYr]).slice(0, n);

  // Get returns
  const rows = stocks.map(s=>{
    let ret;
    if (isForecast) {
      const f = generateForecast(s, `${toYr}-01-01`, `${toYr}-12-31`, mkt);
      ret = f.simReturn;
    } else {
      const nextStocks = mkt==='foreign' ? D.foreign[String(toYr)] : D.domestic[String(toYr)];
      const match = nextStocks?.find(ns=>ns.ticker===s.ticker||ns.name===s.name);
      ret = match ? (match['ì—°ê°„ìˆ˜ìµë¥ (r_t)']||null) : null;
    }
    const score = mkt==='foreign' ? s.final_score_sector : s.final_score;
    return {...s, score, ret, isForecast};
  }).filter(s=>s.ret!=null);

  // Weight calculation
  let weights;
  if (wt==='score') {
    const total = rows.reduce((a,b)=>a+b.score,0);
    weights = rows.map(r=>r.score/total);
  } else if (wt==='nps') {
    const total = rows.reduce((a,b)=>a+(b.weight||0.001),0);
    weights = rows.map(r=>(r.weight||0.001)/total);
  } else {
    weights = rows.map(()=>1/rows.length);
  }

  const portRet = rows.reduce((s,r,i)=>s+r.ret*weights[i],0);
  const invested = rows.map((r,i)=>amt*weights[i]);
  const profits  = rows.map((r,i)=>invested[i]*r.ret/100);
  const totalPnL = profits.reduce((a,b)=>a+b,0);
  document.getElementById('sim-year-tag').textContent = `${fromYr}â†’${toYr} (${isForecast?'ì˜ˆì¸¡':'ì‹¤ì œ'})`;

  // KPI
  const kospi = D.kospi[toYr] ?? portRet * 0.7;
  const excess = portRet - kospi;
  document.getElementById('sim-kpi').innerHTML = [
    {l:'í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜ìµë¥ ',v:`${portRet>0?'+':''}${p2(portRet)}%`,cap:isForecast?'ì˜ˆì¸¡':'ì‹¤ì œ',c:portRet>=0?C.green:C.red},
    {l:'ì´ ì†ìµ',v:`${totalPnL>0?'+':''}${p2(totalPnL)}ë§Œì›`,cap:`íˆ¬ìì›ê¸ˆ ${amt}ë§Œì›`,c:totalPnL>=0?C.green:C.red},
    {l:'KOSPI ëŒ€ë¹„ ì´ˆê³¼ìˆ˜ìµ',v:`${excess>0?'+':''}${p2(excess)}%p`,cap:isForecast?`ì¶”ì • ë²¤ì¹˜ë§ˆí¬`:toYr+'ë…„ KOSPI',c:excess>=0?C.green:C.red},
    {l:'ë³´ìœ  ì¢…ëª© ìˆ˜',v:`${rows.length}ê°œ`,cap:`ê°€ì¤‘ ë°©ì‹: ${wt==='equal'?'ê· ë“±':wt==='score'?'ìŠ¤ì½”ì–´':'NPSë¹„ì¤‘'}`,c:C.cyan},
  ].map(k=>`<div class="card"><div class="card-head"><div class="card-head-bar" style="background:${k.c}"></div><span class="card-head-label">${k.l}</span></div><div class="stat-val" style="color:${k.c};font-size:28px">${k.v}</div><div class="stat-caption">${k.cap}</div></div>`).join('');

  // Charts
  mkChart('c-sim-pie',{type:'doughnut',data:{labels:rows.map(r=>mkt==='foreign'?r.ticker:r.name),datasets:[{data:weights.map(w=>+(w*100).toFixed(1)),backgroundColor:PALETTE.slice(0,rows.length).map(c=>ca(c,0.55)),borderColor:PALETTE.slice(0,rows.length),borderWidth:1.5}]},options:{plugins:{legend:{position:'right',labels:{boxWidth:10,font:{size:9}}}},cutout:'55%'}});
  mkChart('c-sim-bar',{type:'bar',data:{labels:rows.map(r=>mkt==='foreign'?r.ticker:r.name),datasets:[{label:'ìˆ˜ìµë¥ ',data:rows.map(r=>r.ret),backgroundColor:rows.map(r=>ca(r.ret>=0?C.green:C.red,0.4)),borderColor:rows.map(r=>r.ret>=0?C.green:C.red),borderWidth:1.5,borderRadius:4},{label:'KOSPI/ë²¤ì¹˜',data:rows.map(()=>kospi),type:'line',borderColor:C.amber,borderWidth:1.5,borderDash:[4,3],pointRadius:0,fill:false}]},options:{plugins:{legend:{labels:{boxWidth:10,font:{size:11}}}},scales:{y:{ticks:{callback:v=>v+'%'},grid:{color:'rgba(0,200,255,0.05)'}},x:{ticks:{font:{size:9}}}}}});

  document.getElementById('tbody-sim').innerHTML = rows.map((r,i)=>`<tr>
    <td>${rank(i)}</td>
    <td class="td-name">${mkt==='foreign'?r.ticker:r.name}</td>
    <td class="td-mono">${p2(r.score,3)}</td>
    <td class="td-mono">${p2(weights[i]*100,1)}%</td>
    <td class="td-mono">${p2(invested[i])}</td>
    <td ${clr(r.ret)} class="td-mono">${pct(r.ret)}</td>
    <td ${clr(profits[i])} class="td-mono">${profits[i]>0?'+':''}${p2(profits[i])}</td>
  </tr>`).join('');
}

// â”€â”€ PAGE: MODEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderModel() {
  const bt = D.backtest;
  // KPIs
  const best2023 = bt[20][2023].portfolio;
  document.getElementById('model-kpi').innerHTML = [
    {l:'2023 Top10 ìˆ˜ìµë¥ ',v:`+${p2(bt[10][2023].portfolio)}%`,cap:'KOSPI +18.73% ëŒ€ë¹„ ì´ˆê³¼',c:C.green},
    {l:'KOSPI ì´ˆê³¼ ë‹¬ì„±',v:'1/3 ë…„',cap:'2022Â·2024 ì‹œì¥ ê¸‰ë½',c:C.amber},
    {l:'ETF vs NPS í‰ê· ì°¨',v:'+2.1%p',cap:'2022-2024 í‰ê·  (ETF ìš°ì„¸)',c:C.cyan},
    {l:'ëª¨ë¸ ë²„ì „',v:'v8',cap:'Y:Z 99:1 ìµœì í™”',c:C.violet},
  ].map(k=>`<div class="card"><div class="card-head"><div class="card-head-bar" style="background:${k.c}"></div><span class="card-head-label">${k.l}</span></div><div class="stat-val grad-text" style="font-size:26px">${k.v}</div><div class="stat-caption">${k.cap}</div></div>`).join('');

  // Grouped backtest
  const years=['2022','2023','2024'];
  const topNs=['5','10','20','30'];
  mkChart('c-bt-grouped',{type:'bar',data:{labels:years,datasets:[
    ...topNs.map((n,i)=>({label:`Top${n}`,data:years.map(y=>bt[n][y].portfolio),backgroundColor:ca(PALETTE[i],0.3),borderColor:PALETTE[i],borderWidth:1.5,borderRadius:3})),
    {label:'KOSPI',data:years.map(y=>D.kospi[y]),type:'line',borderColor:C.green,borderWidth:2,pointBackgroundColor:C.green,fill:false,tension:0.3}
  ]},options:{plugins:{legend:{labels:{boxWidth:10,font:{size:11}}}},scales:{y:{ticks:{callback:v=>v+'%'},grid:{color:'rgba(0,200,255,0.05)'}},x:{grid:{color:'rgba(0,200,255,0.05)'}}}}});

  // Monthly ETF vs NPS
  const ac = D.a_compare.filter(r=>r.nps_monthly!=null);
  mkChart('c-monthly',{type:'bar',data:{labels:ac.map(r=>r.month),datasets:[
    {label:'ETF ìˆ˜ìµë¥ ',data:ac.map(r=>r.etf_return),backgroundColor:ca(C.cyan,0.25),borderColor:C.cyan,borderWidth:1,borderRadius:2},
    {label:'NPS ì›”ê°„',data:ac.map(r=>r.nps_monthly),backgroundColor:ca(C.violet,0.25),borderColor:C.violet,borderWidth:1,borderRadius:2}
  ]},options:{plugins:{legend:{labels:{boxWidth:10,font:{size:11}}}},scales:{y:{ticks:{callback:v=>v+'%'},grid:{color:'rgba(0,200,255,0.05)'},title:{display:true,text:'ì›”ê°„ ìˆ˜ìµë¥  (%)'}},x:{ticks:{font:{size:8},maxRotation:60}}}}});

  // Cumulative
  mkChart('c-cum',{type:'line',data:{labels:ac.map(r=>r.month),datasets:[
    {label:'ETF ëˆ„ì ',data:ac.reduce((acc,r,i)=>{const prev=i===0?0:acc[i-1];const v=prev+(r.etf_return||0);return[...acc,v];},[]),borderColor:C.cyan,backgroundColor:ca(C.cyan,0.08),fill:true,tension:0.3,borderWidth:2,pointRadius:2},
    {label:'NPS ëˆ„ì ',data:ac.map(r=>r.nps_cum_return),borderColor:C.violet,fill:false,tension:0.3,borderWidth:2,pointRadius:2},
  ]},options:{plugins:{legend:{labels:{boxWidth:10,font:{size:11}}}},scales:{y:{ticks:{callback:v=>v+'%'},grid:{color:'rgba(0,200,255,0.05)'}},x:{ticks:{font:{size:8},maxRotation:60}}}}});

  // BT line
  mkChart('c-bt-line',{type:'line',data:{labels:years,datasets:[
    ...topNs.map((n,i)=>({label:`Top${n}`,data:years.map(y=>bt[n][y].portfolio),borderColor:PALETTE[i],fill:false,tension:0.3,borderWidth:2,pointRadius:5,pointBackgroundColor:PALETTE[i]})),
    {label:'KOSPI',data:years.map(y=>D.kospi[y]),borderColor:C.green,borderWidth:2,borderDash:[5,3],fill:false,tension:0.3,pointRadius:4}
  ]},options:{plugins:{legend:{labels:{boxWidth:10,font:{size:11}}}},scales:{y:{ticks:{callback:v=>v+'%'},grid:{color:'rgba(0,200,255,0.05)'}},x:{grid:{color:'rgba(0,200,255,0.05)'}}}}});

  // BT table
  const hdr = `<thead><tr><th>Top N</th>${years.map(y=>`<th>${y} ìˆ˜ìµë¥ </th><th>${y} vs KOSPI</th>`).join('')}</tr></thead>`;
  const bod = topNs.map(n=>`<tr>
    <td><strong style="color:var(--cyan)">Top ${n}</strong></td>
    ${years.map(y=>`<td ${clr(bt[n][y].portfolio)} class="td-mono">${pct(bt[n][y].portfolio)}</td><td ${clr(bt[n][y].portfolio-D.kospi[y])} class="td-mono">${pct(+(bt[n][y].portfolio-D.kospi[y]).toFixed(2))}</td>`).join('')}
  </tr>`).join('');
  document.getElementById('t-bt').innerHTML = hdr+'<tbody>'+bod+'</tbody>';
}

// â”€â”€ PAGE: ACCURACY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let accFilter = 'all';
function filterAccModel(m, btn) {
  accFilter = m;
  document.querySelectorAll('#acc-tabs .tab-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  renderAccTable();
}
function renderAccuracy() {
  const rs = D.r_summary;
  // KPI
  document.getElementById('acc-kpi').innerHTML = Object.entries(rs).map(([m,s],i)=>`
    <div class="card">
      <div class="card-head"><div class="card-head-bar" style="background:${PALETTE[i]}"></div><span class="card-head-label">${m}</span></div>
      <div class="stat-val" style="color:${PALETTE[i]};font-size:32px">${(s.rate*100).toFixed(0)}%</div>
      <div class="stat-caption">${s.hits}/${s.total} ì ì¤‘</div>
    </div>`).join('');

  // Bar
  mkChart('c-acc-bar',{type:'bar',data:{labels:Object.keys(rs),datasets:[{label:'ì ì¤‘ë¥ ',data:Object.values(rs).map(s=>s.rate*100),backgroundColor:PALETTE.slice(0,4).map(c=>ca(c,0.4)),borderColor:PALETTE.slice(0,4),borderWidth:1.5,borderRadius:6}]},options:{plugins:{legend:{display:false}},scales:{y:{max:100,ticks:{callback:v=>v+'%'},grid:{color:'rgba(0,200,255,0.05)'}},x:{grid:{color:'rgba(0,200,255,0.05)'}}}}});

  // Model cards
  document.getElementById('acc-model-cards').innerHTML = Object.entries(rs).map(([m,s],i)=>`
    <div class="model-card">
      <div class="model-name" style="color:${PALETTE[i]}">${m}</div>
      <div class="model-acc" style="color:${PALETTE[i]}">${(s.rate*100).toFixed(0)}%</div>
      <div style="font-size:11px;color:var(--t-lo);margin-top:2px">${s.hits}/${s.total} ì ì¤‘</div>
      <div class="model-hit-bar"><div class="model-hit-fill" style="width:${s.rate*100}%;background:${PALETTE[i]}"></div></div>
    </div>`).join('');

  // Scatter: pred vs actual (RandomForest only)
  const rf = D.r_model.filter(r=>r.model==='RandomForest');
  mkChart('c-acc-scatter',{type:'scatter',data:{datasets:[
    {label:'ì ì¤‘',data:rf.filter(r=>r.hit).map(r=>({x:r.pred_return,y:r.actual_return,name:r.name})),backgroundColor:ca(C.green,0.6),borderColor:C.green,pointRadius:6},
    {label:'ë¯¸ì ì¤‘',data:rf.filter(r=>!r.hit).map(r=>({x:r.pred_return,y:r.actual_return,name:r.name})),backgroundColor:ca(C.red,0.6),borderColor:C.red,pointRadius:6}
  ]},options:{plugins:{tooltip:{callbacks:{label:ctx=>`${ctx.raw.name}: ì˜ˆì¸¡${pct(ctx.raw.x)} ì‹¤ì œ${pct(ctx.raw.y)}`}},legend:{labels:{boxWidth:10,font:{size:11}}}},scales:{x:{title:{display:true,text:'ì˜ˆì¸¡ ìˆ˜ìµë¥  (%)'},grid:{color:'rgba(0,200,255,0.05)'}},y:{title:{display:true,text:'ì‹¤ì œ ìˆ˜ìµë¥  (%)'},grid:{color:'rgba(0,200,255,0.05)'}}}}});

  renderAccTable();
}
function renderAccTable() {
  const rows = accFilter==='all' ? D.r_model : D.r_model.filter(r=>r.model===accFilter);
  document.getElementById('tbody-acc').innerHTML = rows.map(r=>`<tr>
    <td><span class="td-mono" style="color:${PALETTE[['RandomForest','XGBoost','LightGBM','SVM'].indexOf(r.model)%4]}">${r.model}</span></td>
    <td class="td-name">${r.name}</td>
    <td class="td-mono">${p2(r.final_score,3)}</td>
    <td ${clr(r.pred_return)} class="td-mono">${pct(r.pred_return)}</td>
    <td ${clr(r.actual_return)} class="td-mono">${pct(r.actual_return)}</td>
    <td><span class="tag ${r.pred_direction==='ìƒìŠ¹'?'tag-actual':'tag-forecast'}">${r.pred_direction}</span></td>
    <td>${r.hit?'<span class="tag tag-actual">âœ“ ì ì¤‘</span>':'<span class="tag tag-forecast">âœ— ì‹¤íŒ¨</span>'}</td>
  </tr>`).join('');
}

// â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
renderDash();
</script>
</body>
</html>
